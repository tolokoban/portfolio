"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[576],{1576:(t,e,n)=>{n.r(e),n.d(e,{default:()=>L});var i=n(5893),r=(n(4095),n(2386),n(9233),n(3046),n(7542),n(1543)),a=n(851),s=n(1558),o=n(7294),c=n(3379),h=n.n(c),u=n(7795),l=n.n(u),f=n(569),m=n.n(f),v=n(3565),d=n.n(v),x=n(9216),p=n.n(x),g=n(4589),y=n.n(g),b=n(7424),C={};C.styleTagTransform=y(),C.setAttributes=d(),C.insert=m().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=p(),h()(b.Z,C);const w=b.Z&&b.Z.locals?b.Z.locals:void 0;var A=n(1351),P=n(7381);const O=function(){function t(t){this.scene=t,this.roll=0,this.pitch=0,this.pinned=!1,this.axisX=new A.AO(1,0,0),this.axisY=new A.AO(0,1,0),this.axisZ=new A.AO(0,0,1),this.rotatedAxisX=new A.AO(0),this.rotatedAxisY=new A.AO(0),this.rotatedAxisZ=new A.AO(0),this.cameraOrientation=[1,0,0,0,1,0,0,0,1],this.cameraPosition=[0,0,1];var e=t.gl;this.res=t.getResources("BlendDemo"),this.prg=this.res.createProgram({vert:"#version 300 es\n\nuniform mat3 uniCameraOrientation;\nin vec2 attRay;\nout vec3 varRay;\n\nvoid main() {\n    varRay = uniCameraOrientation * vec3(1.0, attRay);\n    gl_Position = vec4(attRay, 0.0, 1.0);\n}",frag:"#version 300 es\n\nprecision mediump float;\n\nuniform vec3 uniCameraPosition;\nuniform samplerCube uniSkybox;\n\nin vec3 varRay;\nout vec4 FragColor;\n\nvoid main() {\n    if (varRay.z >= 0.0) {\n        FragColor = texture(uniSkybox, normalize(varRay.xzy));\n    } else {\n        float factor = -uniCameraPosition.z / varRay.z;\n        float x = uniCameraPosition.x + factor * varRay.x;\n        float y = uniCameraPosition.y + factor * varRay.y;\n        float a = smoothstep(-.001, .001, cos(x) * cos(y));\n        vec3 color = mix(vec3(0.2, 1, 0), vec3(.5, .7, .2), a);\n        float dist = distance(uniCameraPosition, vec3(x, y, 0));\n        float b = clamp(25.0 / dist, 0.0, 1.0);\n        FragColor = vec4(mix(vec3(0.84, 0.85 , 0.83), color, b) , 1.0);\n    }\n}"}),this.uniCameraPosition=t.getUniformLocation(this.prg,"uniCameraPosition"),this.uniCameraOrientation=t.getUniformLocation(this.prg,"uniCameraOrientation"),this.uniSkybox=t.getUniformLocation(this.prg,"uniSkybox"),this.vao=this.res.createVertexArray(),this.buffer=this.res.createBuffer(),this.data=(0,P._)(4,{attRay:2}),this.data.poke("attRay",[1,1,1,-1,-1,-1,-1,1]),this.data.push(t.gl,this.buffer),e.bindVertexArray(this.vao),this.data.defineAttributes(e,this.prg,this.buffer),e.bindVertexArray(null),this.image=t.asset.createImage("images/common/skybox/skybox.webp"),this.texture=this.res.createTexture(),t.texture.loadTextureCubeMap(this.texture,this.image)}return t.prototype.destroy=function(){this.res.deleteBuffer(),this.res.deleteProgram(),this.res.deleteVertexArray(),this.res.deteleTexture(),this.scene.asset.destroyImage(this.image)},t.prototype.paint=function(t,e){var n=this,i=n.prg,r=n.vao,a=n.scene.gl;a.useProgram(i),a.uniform3fv(this.uniCameraPosition,this.cameraPosition),a.uniformMatrix3fv(this.uniCameraOrientation,!1,this.cameraOrientation),a.uniform1i(this.uniSkybox,0),a.bindVertexArray(r),a.drawArrays(a.TRIANGLE_FAN,0,4),a.bindVertexArray(null)},t.prototype.update=function(t,e){var n=this.roll,i=this.pitch;this.pinned||(n>0?this.roll=Math.max(0,n-2e-4*e):n<0&&(this.roll=Math.min(0,n+2e-4*e)),i>0?this.pitch=Math.max(0,i-.001*e):i<0&&(this.pitch=Math.min(0,i+.001*e)));var r=this,a=r.axisX,s=r.axisY,o=r.axisZ,c=r.rotatedAxisX,h=r.rotatedAxisY,u=r.rotatedAxisZ;(0,A.QC)(a,i,c),(0,A.QC)(s,i,h),(0,A.QC)(o,i,u);var l=new A.AO(0);(0,A.QC)(new A.AO(1,0,0),i,l),(0,A.Bq)(c,l,n,c),(0,A.Bq)(h,l,n,h),(0,A.Bq)(u,l,n,u),this.cameraOrientation=[c.x,c.y,c.z,h.x,h.y,h.z,u.x,u.y,u.z],this.cameraPosition[0]+=.01*e,this.cameraPosition[2]=11+10*Math.cos(.0002427022*t)},t}();var j=function(){return j=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},j.apply(this,arguments)};function R(t){var e=t.className,n=o.useRef(null),c=o.useRef(null);return(0,i.jsx)("div",j({className:k(e,w.InfinitePlanDemo)},{children:(0,i.jsx)("canvas",{ref:function(t){if(t&&!n.current){var e=new a.Z(t,{alpha:!1,preserveDrawingBuffer:!1,antialias:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"});n.current=e;var i=new O(e);c.current=i;var o=new s.Z;o.attach(t),o.eventDrag.addListener(function(t,e){return function(n){var i=n.current.x-n.previous.x,r=n.current.y-n.previous.y;e.roll+=i,e.pitch+=r,t.paint()}}(e,i)),o.eventDown.addListener((function(){return i.pinned=!0})),o.eventUp.addListener((function(){return i.pinned=!1}));var h=new r.x(e,{colorValue:[.3,.5,1,1]});e.addPainter(h,i),e.animate=!0}},width:512,height:512,onDoubleClick:Z})}))}function k(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}function Z(t){t.target.requestFullscreen({navigationUI:"hide"})}function I(t){const e=Object.assign({h1:"h1",ul:"ul",li:"li"},t.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{children:"Infinite Plane"}),"\n",(0,i.jsx)("div",{className:"margin-left",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Drag your mouse on the scene to change the camera angles."}),"\n",(0,i.jsx)(e.li,{children:"Double click to toggle fullscreen."}),"\n"]})}),"\n",(0,i.jsx)(R,{})]})}const L=function(t={}){const{wrapper:e}=t.components||{};return e?(0,i.jsx)(e,Object.assign({},t,{children:(0,i.jsx)(I,t)})):I(t)}},7424:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(8081),r=n.n(i),a=n(3645),s=n.n(a)()(r());s.push([t.id,".tnnLfgrJr5TIF9X3Csvv {\n    width: 100%;\n    display: grid;\n    place-items: center;\n}\n\n.tnnLfgrJr5TIF9X3Csvv > canvas {\n    width: 640px;\n    height: 480px;\n    max-width: 100vw;\n    max-height: 100vmin;\n}\n",""]),s.locals={InfinitePlanDemo:"tnnLfgrJr5TIF9X3Csvv"};const o=s},851:(t,e,n)=>{n.d(e,{Z:()=>i.Z});var i=n(329)}}]);