"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[576],{1576:(n,t,e)=>{e.r(t),e.d(t,{default:()=>X});var i=e(5893),r=(e(4095),e(2386),e(9233),e(3046),e(7542),e(1543)),a=e(851),s=e(1558),o=e(7294),c=e(3379),l=e.n(c),u=e(7795),h=e.n(u),f=e(569),d=e.n(f),m=e(3565),x=e.n(m),v=e(9216),p=e.n(v),g=e(4589),y=e.n(g),b=e(7424),w={};w.styleTagTransform=y(),w.setAttributes=x(),w.insert=d().bind(null,"head"),w.domAPI=h(),w.insertStyleElement=p(),l()(b.Z,w);const C=b.Z&&b.Z.locals?b.Z.locals:void 0;var A=e(1351),j=e(7381);const P=function(){function n(n){this.scene=n,this.roll=0,this.pitch=0,this.pinned=!1,this.axisX=new A.AO(1,0,0),this.axisY=new A.AO(0,1,0),this.axisZ=new A.AO(0,0,1),this.rotatedAxisX=new A.AO(0),this.rotatedAxisY=new A.AO(0),this.rotatedAxisZ=new A.AO(0),this.cameraOrientation=[1,0,0,0,1,0,0,0,1],this.cameraPosition=[0,0,1];var t=n.gl;this.res=n.getResources("BlendDemo"),this.prg=this.res.createProgram({vert:"#version 300 es\n\nuniform mat3 uniCameraOrientation;\nin vec2 attRay;\nout vec3 varRay;\n\nvoid main() {\n    varRay = uniCameraOrientation * vec3(1.0, attRay);\n    gl_Position = vec4(attRay, 0.0, 1.0);\n}",frag:"#version 300 es\n\nprecision mediump float;\n\nuniform vec3 uniCameraPosition;\nuniform samplerCube uniSkybox;\n\nin vec3 varRay;\nout vec4 FragColor;\n\nvoid main() {\n    if (varRay.z >= 0.0) {\n        FragColor = texture(uniSkybox, normalize(varRay.xzy));\n    } else {\n        float factor = -uniCameraPosition.z / varRay.z;\n        float x = uniCameraPosition.x + factor * varRay.x;\n        float y = uniCameraPosition.y + factor * varRay.y;\n        float a = smoothstep(-.001, .001, cos(x) * cos(y));\n        vec3 color = mix(vec3(0.2, 1, 0), vec3(.5, .7, .2), a);\n        float dist = distance(uniCameraPosition, vec3(x, y, 0));\n        float b = clamp(25.0 / dist, 0.0, 1.0);\n        FragColor = vec4(mix(vec3(0.84, 0.85 , 0.83), color, b) , 1.0);\n    }\n}"}),this.uniCameraPosition=n.getUniformLocation(this.prg,"uniCameraPosition"),this.uniCameraOrientation=n.getUniformLocation(this.prg,"uniCameraOrientation"),this.uniSkybox=n.getUniformLocation(this.prg,"uniSkybox"),this.vao=this.res.createVertexArray(),this.buffer=this.res.createBuffer(),this.data=(0,j._)(4,{attRay:2}),this.data.poke("attRay",[1,1,1,-1,-1,-1,-1,1]),this.data.push(n.gl,this.buffer),t.bindVertexArray(this.vao),this.data.defineAttributes(t,this.prg,this.buffer),t.bindVertexArray(null),this.image=n.asset.createImage("images/common/skybox/skybox.webp"),this.texture=this.res.createTexture(),n.texture.loadTextureCubeMap(this.texture,this.image)}return n.prototype.destroy=function(){this.res.deleteBuffer(),this.res.deleteProgram(),this.res.deleteVertexArray(),this.res.deteleTexture(),this.scene.asset.destroyImage(this.image)},n.prototype.paint=function(n,t){var e=this,i=e.prg,r=e.vao,a=e.scene.gl;a.useProgram(i),a.uniform3fv(this.uniCameraPosition,this.cameraPosition),a.uniformMatrix3fv(this.uniCameraOrientation,!1,this.cameraOrientation),a.uniform1i(this.uniSkybox,0),a.bindVertexArray(r),a.drawArrays(a.TRIANGLE_FAN,0,4),a.bindVertexArray(null)},n.prototype.update=function(n,t){var e=this.roll,i=this.pitch;this.pinned||(e>0?this.roll=Math.max(0,e-2e-4*t):e<0&&(this.roll=Math.min(0,e+2e-4*t)),i>0?this.pitch=Math.max(0,i-.001*t):i<0&&(this.pitch=Math.min(0,i+.001*t)));var r=this,a=r.axisX,s=r.axisY,o=r.axisZ,c=r.rotatedAxisX,l=r.rotatedAxisY,u=r.rotatedAxisZ;(0,A.QC)(a,i,c),(0,A.QC)(s,i,l),(0,A.QC)(o,i,u);var h=new A.AO(0);(0,A.QC)(new A.AO(1,0,0),i,h),(0,A.Bq)(c,h,e,c),(0,A.Bq)(l,h,e,l),(0,A.Bq)(u,h,e,u),this.cameraOrientation=[c.x,c.y,c.z,l.x,l.y,l.z,u.x,u.y,u.z],this.cameraPosition[0]+=.01*t,this.cameraPosition[2]=11+10*Math.cos(.0002427022*n)},n}();var O=function(){return O=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},O.apply(this,arguments)};function R(n){var t=n.className,e=o.useRef(null),c=o.useRef(null);return(0,i.jsx)("div",O({className:Z(t,C.InfinitePlanDemo)},{children:(0,i.jsx)("canvas",{ref:function(n){if(n&&!e.current){var t=new a.Z(n,{alpha:!1,preserveDrawingBuffer:!1,antialias:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"});e.current=t;var i=new P(t);c.current=i;var o=new s.Z;o.attach(n),o.eventDrag.addListener(function(n,t){return function(e){var i=e.current.x-e.previous.x,r=e.current.y-e.previous.y;t.roll+=i,t.pitch+=r,n.paint()}}(t,i)),o.eventDown.addListener((function(){return i.pinned=!0})),o.eventUp.addListener((function(){return i.pinned=!1}));var l=new r.x(t,{colorValue:[.3,.5,1,1]});t.addPainter(l,i),t.animate=!0}},width:512,height:512,onDoubleClick:T})}))}function Z(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.filter((function(n){return"string"==typeof n})).join(" ")}function T(n){n.target.requestFullscreen({navigationUI:"hide"})}function k(n){const t=Object.assign({h1:"h1",ul:"ul",li:"li"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{children:"Infinite Plane"}),"\n",(0,i.jsx)("div",{className:"margin-left",children:(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Drag your mouse on the scene to change the camera angles."}),"\n",(0,i.jsx)(t.li,{children:"Double click to toggle fullscreen."}),"\n"]})}),"\n",(0,i.jsx)(R,{})]})}const X=function(n={}){const{wrapper:t}=n.components||{};return t?(0,i.jsx)(t,Object.assign({},n,{children:(0,i.jsx)(k,n)})):k(n)}},1135:(n,t,e)=>{e.d(t,{Z:()=>o});var i=e(8081),r=e.n(i),a=e(3645),s=e.n(a)()(r());s.push([n.id,".jvlT0UyM79FnX9RbX9dy {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: start;\n    gap: 1em;\n    padding: 0.5em;\n    border-radius: 0.25em;\n    background: linear-gradient(0deg, #f900, #f902, #f901);\n    backdrop-filter: blur(5px);\n    box-shadow: 0 2px 4px #f903;\n}\n\n.wXxu_E1ctMWwTn8EN3Vq {\n    flex: 0 0 auto;\n    max-width: 160px;\n    max-height: 160px;\n}\n\n@media (max-width: 600px) {\n    .jvlT0UyM79FnX9RbX9dy {\n        flex-direction: column;\n    }\n\n    .wXxu_E1ctMWwTn8EN3Vq {\n        max-width: 100%;\n    }\n}\n",""]),s.locals={Card:"jvlT0UyM79FnX9RbX9dy",image:"wXxu_E1ctMWwTn8EN3Vq"};const o=s},7424:(n,t,e)=>{e.d(t,{Z:()=>o});var i=e(8081),r=e.n(i),a=e(3645),s=e.n(a)()(r());s.push([n.id,".tnnLfgrJr5TIF9X3Csvv {\n    width: 100%;\n    display: grid;\n    place-items: center;\n}\n\n.tnnLfgrJr5TIF9X3Csvv > canvas {\n    width: 640px;\n    height: 480px;\n    max-width: 100vw;\n    max-height: 100vmin;\n}\n",""]),s.locals={InfinitePlanDemo:"tnnLfgrJr5TIF9X3Csvv"};const o=s},9233:(n,t,e)=>{e.d(t,{Z:()=>b});var i=e(5893),r=e(3379),a=e.n(r),s=e(7795),o=e.n(s),c=e(569),l=e.n(c),u=e(3565),h=e.n(u),f=e(9216),d=e.n(f),m=e(4589),x=e.n(m),v=e(1135),p={};p.styleTagTransform=x(),p.setAttributes=h(),p.insert=l().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=d(),a()(v.Z,p);const g=v.Z&&v.Z.locals?v.Z.locals:void 0;var y=function(){return y=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},y.apply(this,arguments)};function b(n){var t=n.className,e=n.image,r=n.children;return(0,i.jsxs)("div",y({className:w(t,g.Card)},{children:[(0,i.jsx)("img",{className:g.image,src:e}),(0,i.jsx)("div",{children:r})]}))}function w(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.filter((function(n){return"string"==typeof n})).join(" ")}},851:(n,t,e)=>{e.d(t,{Z:()=>i.Z});var i=e(329)}}]);