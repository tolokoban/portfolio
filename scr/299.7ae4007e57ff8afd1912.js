"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[299],{3914:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".nlBvYXX94z1yeTloBL6t {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0%;\n}\n\n.nlBvYXX94z1yeTloBL6t > svg {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    max-height: 90%;\n    width: 100%;\n    margin: 0;\n}\n",""]),a.locals={PageNotFound:"nlBvYXX94z1yeTloBL6t"};const l=a},3397:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".GHxnXTUUmWVVXI3QKvDe {\n    position: relative;\n}\n\n.GHxnXTUUmWVVXI3QKvDe > canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n}\n",""]),a.locals={SceneCanvas:"GHxnXTUUmWVVXI3QKvDe"};const l=a},174:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".DmK6crIBPltrBRh2ZdVt img.RNQl7ShrqkJ7kmoldWX7 {\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    max-width: 40vw;\n    max-height: 66vh;\n}\n\nbody {\n    background: linear-gradient(#eee, #aaa, #555 80%, #444);\n}\n\n.DmK6crIBPltrBRh2ZdVt header {\n    position: absolute;\n    left: 8px;\n    top: 8px;\n    color: #000;\n    font-size: 15vmin;\n}\n\n.DmK6crIBPltrBRh2ZdVt svg {\n    width: 100%;\n    height: 100%;\n    max-width: 800px;\n    max-height: 800px;\n}\n\n.DmK6crIBPltrBRh2ZdVt main {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    place-items: center;\n}\n\n.DmK6crIBPltrBRh2ZdVt main > * {\n    width: 99svmin;\n    height: 99svmin;\n}\n\n/* .Welcome g.rotate {\n    animation: 10s alternate infinite rotate-anim;\n}\n\n@keyframes rotate-anim {\n    from {\n        transform: rotate(-30deg);\n    }\n    to {\n        transform: rotate(30deg);\n    }\n} */\n",""]),a.locals={Welcome:"DmK6crIBPltrBRh2ZdVt",trombine:"RNQl7ShrqkJ7kmoldWX7"};const l=a},3138:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".Tq2ka4BA03IDNb32Fwqw {\n}\n",""]),a.locals={Index:"Tq2ka4BA03IDNb32Fwqw"};const l=a},2578:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".w6OZFdwwQBjjp7rc_r2k {\n}\n",""]),a.locals={ColorGuess:"w6OZFdwwQBjjp7rc_r2k"};const l=a},9768:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".Q7sfDWxxmXzRDCukgFIY {\n}\n",""]),a.locals={CrossingBoats:"Q7sfDWxxmXzRDCukgFIY"};const l=a},7042:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".X3sUcn6Os_RD4bixbK2n {\n}\n",""]),a.locals={Blending:"X3sUcn6Os_RD4bixbK2n"};const l=a},4037:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".E5yPepag93_cc1oZV3hl {\n}\n",""]),a.locals={InfinitePlan:"E5yPepag93_cc1oZV3hl"};const l=a},461:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".alcQlfXbBRnJm3QG5KCw {\n}\n",""]),a.locals={Akonolinga:"alcQlfXbBRnJm3QG5KCw"};const l=a},1139:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".X0AE3ab3F4IhfnrfE1TB {\n}\n",""]),a.locals={ApiHrGraph:"X0AE3ab3F4IhfnrfE1TB"};const l=a},3041:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".yYRlJ64Kn1_ldfDYrOLr {\n}\n",""]),a.locals={FrancaisFacile:"yYRlJ64Kn1_ldfDYrOLr"};const l=a},5165:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"._iCdY7OgACP_OeLDfuEq {\n}\n",""]),a.locals={HandsOnWebGL:"_iCdY7OgACP_OeLDfuEq"};const l=a},622:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".lqsVHqrtqM0Xak3FpOew {\n}\n",""]),a.locals={Index:"lqsVHqrtqM0Xak3FpOew"};const l=a},6214:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"MediationFamilliale {\n}\n",""]),a.locals={};const l=a},6258:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".cPumUhAbfr9EP0gn9fHe {\n}\n",""]),a.locals={Minervois:"cPumUhAbfr9EP0gn9fHe"};const l=a},4251:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".CZeW6cklbGUJVhfAT_Nm {\n}\n",""]),a.locals={Tournus:"CZeW6cklbGUJVhfAT_Nm"};const l=a},1830:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".ugXCMqJ8fguoTsz54nlx {\n}\n",""]),a.locals={TrailTar:"ugXCMqJ8fguoTsz54nlx"};const l=a},8299:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Yt});var r=n(5893),o=n(7294),i=n(9655),a=n(9250),l=n(3379),s=n.n(l),c=n(7795),u=n.n(c),f=n(569),h=n.n(f),d=n(3565),p=n.n(d),v=n(9216),y=n.n(v),m=n(4589),g=n.n(m),b=n(3138),x={};x.styleTagTransform=g(),x.setAttributes=p(),x.insert=h().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=y(),s()(b.Z,x);const w=b.Z&&b.Z.locals?b.Z.locals:void 0;var E=n(3387),T=n(5426);function A(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var P=n(7042),S={};S.styleTagTransform=g(),S.setAttributes=p(),S.insert=h().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=y(),s()(P.Z,S);const j=P.Z&&P.Z.locals?P.Z.locals:void 0;function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var k=n(4037),_={};_.styleTagTransform=g(),_.setAttributes=p(),_.insert=h().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=y(),s()(k.Z,_);const U=k.Z&&k.Z.locals?k.Z.locals:void 0;function R(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var M=n(1139),I={};I.styleTagTransform=g(),I.setAttributes=p(),I.insert=h().bind(null,"head"),I.domAPI=u(),I.insertStyleElement=y(),s()(M.Z,I);const C=M.Z&&M.Z.locals?M.Z.locals:void 0;function D(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var N=n(461),O={};O.styleTagTransform=g(),O.setAttributes=p(),O.insert=h().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=y(),s()(N.Z,O);const B=N.Z&&N.Z.locals?N.Z.locals:void 0;function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var F=n(3041),L={};L.styleTagTransform=g(),L.setAttributes=p(),L.insert=h().bind(null,"head"),L.domAPI=u(),L.insertStyleElement=y(),s()(F.Z,L);const V=F.Z&&F.Z.locals?F.Z.locals:void 0;function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var X=n(6214),q={};q.styleTagTransform=g(),q.setAttributes=p(),q.insert=h().bind(null,"head"),q.domAPI=u(),q.insertStyleElement=y(),s()(X.Z,q);const W=X.Z&&X.Z.locals?X.Z.locals:void 0;function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var Y=n(5165),K={};K.styleTagTransform=g(),K.setAttributes=p(),K.insert=h().bind(null,"head"),K.domAPI=u(),K.insertStyleElement=y(),s()(Y.Z,K);const Q=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var $=n(4251),tt={};tt.styleTagTransform=g(),tt.setAttributes=p(),tt.insert=h().bind(null,"head"),tt.domAPI=u(),tt.insertStyleElement=y(),s()($.Z,tt);const et=$.Z&&$.Z.locals?$.Z.locals:void 0;function nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var rt=n(1830),ot={};ot.styleTagTransform=g(),ot.setAttributes=p(),ot.insert=h().bind(null,"head"),ot.domAPI=u(),ot.insertStyleElement=y(),s()(rt.Z,ot);const it=rt.Z&&rt.Z.locals?rt.Z.locals:void 0;function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var lt=n(622),st={};st.styleTagTransform=g(),st.setAttributes=p(),st.insert=h().bind(null,"head"),st.domAPI=u(),st.insertStyleElement=y(),s()(lt.Z,st);const ct=lt.Z&&lt.Z.locals?lt.Z.locals:void 0;function ut(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var ft=n(2578),ht={};ht.styleTagTransform=g(),ht.setAttributes=p(),ht.insert=h().bind(null,"head"),ht.domAPI=u(),ht.insertStyleElement=y(),s()(ft.Z,ht);const dt=ft.Z&&ft.Z.locals?ft.Z.locals:void 0;function pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var vt=n(9768),yt={};yt.styleTagTransform=g(),yt.setAttributes=p(),yt.insert=h().bind(null,"head"),yt.domAPI=u(),yt.insertStyleElement=y(),s()(vt.Z,yt);const mt=vt.Z&&vt.Z.locals?vt.Z.locals:void 0;function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var bt=n(6258),xt={};xt.styleTagTransform=g(),xt.setAttributes=p(),xt.insert=h().bind(null,"head"),xt.domAPI=u(),xt.insertStyleElement=y(),s()(bt.Z,xt);const wt=bt.Z&&bt.Z.locals?bt.Z.locals:void 0;function Et(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var Tt=n(3914),At={};At.styleTagTransform=g(),At.setAttributes=p(),At.insert=h().bind(null,"head"),At.domAPI=u(),At.insertStyleElement=y(),s()(Tt.Z,At);const Pt=Tt.Z&&Tt.Z.locals?Tt.Z.locals:void 0;function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var jt=n(329),Zt=n(3397),kt={};kt.styleTagTransform=g(),kt.setAttributes=p(),kt.insert=h().bind(null,"head"),kt.domAPI=u(),kt.insertStyleElement=y(),s()(Zt.Z,kt);const _t=Zt.Z&&Zt.Z.locals?Zt.Z.locals:void 0;var Ut=function(){return Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ut.apply(this,arguments)},Rt=function(){};function Mt(t){var e=t.className,n=t.init,i=t.autoPlay,a=t.context,l=void 0===a?{}:a,s=function(){var t=o.useRef(Rt);return o.useEffect((function(){return console.log("MOUNT"),function(){console.log("UNMOUNT")}}),[]),t}();return(0,r.jsx)("div",{className:It(e,_t.SceneCanvas),children:(0,r.jsx)("canvas",{ref:function(t){if(t){var e=function(){t.requestFullscreen()};t.addEventListener("dblclick",e);var r=new jt.Z(t,Ut({alpha:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,antialias:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"},l));n(r);var o=function(){console.log("DETACH"),r.destroy(),t.removeEventListener("dblclick",e)};i?(r.animate=!0,s.current=function(){r.animate=!1,o()}):s.current=o}}})})}function It(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var Ct=n(174),Dt={};Dt.styleTagTransform=g(),Dt.setAttributes=p(),Dt.insert=h().bind(null,"head"),Dt.domAPI=u(),Dt.insertStyleElement=y(),s()(Ct.Z,Dt);const Nt=Ct.Z&&Ct.Z.locals?Ct.Z.locals:void 0;var Ot=n(1543),Bt=n(7381),zt=n(1351);const Ft=function(){function t(t,e,n){var r,o,i,a,l,s,c;void 0===e&&(e="Tolokoban"),void 0===n&&(n=0),this.scene=t,this.text=e,this.initialAngle=n,this.transform=new zt.yb,this.angle=0,this.zoomFactor=0,this.highlight=!1,this.move=(o=(r={duration:1,min:.9,max:1.1}).duration,s=1/(void 0===o?300:o),c=(void 0===(l=r.max)?1:l)-(a=void 0===(i=r.min)?0:i),function(t){var e=t*s;return a+c*(e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2)}),this.id="ID#".concat(e),this.angle=n,this.res=t.getResources("WelcomePainter"),this.texture=this.res.createTexture(this.id),this.prg=this.res.createProgram({vert:"#version 300 es\n\nprecision lowp float;\n\nuniform float uniLight;\nuniform mat4 uniTransform;\nin vec3 attPos;\nin vec2 attUV;\nout vec2 varUV;\nout vec3 varNormal;\nout float varAlpha;\n\nvoid main() {\n    varUV = attUV;\n    varAlpha = 1.0 - smoothstep(0.9, 1.0, attPos.z);\n    varNormal = mat3(uniTransform) * normalize(vec3(0, 0.33333, 1.0 - attPos.z));\n    gl_Position = uniTransform * vec4(attPos, 1.0);\n    float light = uniLight;\n    gl_Position.x *= light;\n    gl_Position.y *= light;\n}",frag:"#version 300 es\n\nprecision lowp float;\n\nuniform sampler2D uniTexture;\nuniform vec3 uniSpot;\nin vec2 varUV;\nin vec3 varNormal;\nin float varAlpha;\n\nout vec4 FragColor;\n\nconst mat3 ROTATE = mat3(\n    -0.8090169943749473, 0.5877852522924732, 0,\n    -0.5877852522924732, -0.8090169943749473, 0,\n    0, 0, 1\n);\n\nvoid main() {\n    vec3 pos = gl_FragCoord.xyz;\n    vec3 ray = normalize(uniSpot - pos);\n    vec3 ray2 = normalize(uniSpot - ROTATE * pos);\n    vec3 ray3 = normalize(uniSpot - ROTATE * ROTATE * pos);\n    vec3 normal = normalize(varNormal);\n    vec3 bounce = normalize(reflect(ray, normal));\n    vec3 bounce2 = normalize(reflect(ray2, normal));\n    vec3 bounce3 = normalize(reflect(ray3, normal));\n    float light = 1.0;\n    light *= 3.0 * pow(normal.z, 5.0);\n    float specular = pow(max(0.0, bounce.z), 150.0) * .35;\n    specular += pow(max(0.0, bounce2.z), 10.0) * 0.25;\n    specular += pow(max(0.0, bounce3.z), 50.0) * 0.5;\n    FragColor = vec4(\n        texture(uniTexture, varUV).rgb * light\n        + specular * vec3(.839, .925, .392),\n        varAlpha\n    );\n}"},this.id),this.uniSpot=t.getUniformLocation(this.prg,"uniSpot"),this.uniLight=t.getUniformLocation(this.prg,"uniLight"),this.uniTexture=t.getUniformLocation(this.prg,"uniTexture"),this.uniTransform=t.getUniformLocation(this.prg,"uniTransform"),this.vao=this.res.createVertexArray(this.id);var u=t.gl;this.buffer=this.res.createBuffer(this.id);var f=(0,Bt._)(256,{attPos:3,attUV:2});!function(t){var e=Math.PI,n=zt.AO.fromPolar(0,.8),r=zt.AO.fromPolar(e,.8),o=zt.AO.fromSubtract(r,n),i=new zt.AO(o.y,-o.x,0).normalize().scale(.5),a=0,l=0;t.poke("attPos",Vt([n.x,n.y,1]),a++),t.poke("attUV",[0,0],l++);for(var s=1;s<128;s++){var c=.0078125*s,u=1-c*c,f=zt.AO.fromPolar(e*c,.8);f.z=u;var h=n.clone().add(o.clone().scale(c),i.clone().scale(.75*(c<.5?Math.sqrt(1-Math.pow(4*(c-.25),2)):-Math.sqrt(1-Math.pow(4*(c-.75),2)))));h.z=u,t.poke("attPos",Vt(f.xyz),a++);var d=1-c;t.poke("attUV",[d,0],l++),t.poke("attPos",Vt(h.xyz),a++);var p=h.y-f.y;t.poke("attUV",[d,p],l++)}r.z=1,t.poke("attPos",Vt(r.xyz),a),t.poke("attUV",[1,1],l)}(f),f.push(u,this.buffer),u.bindVertexArray(this.vao),f.defineAttributes(u,this.prg,this.buffer),t.texture.loadTexture2D(this.texture,{image:Lt(e),wrapS:"CLAMP_TO_EDGE"}),u.bindVertexArray(null),console.log("CONSTRUCTOR")}return t.prototype.destroy=function(){console.log("DESTROY"),this.res.deleteBuffer(this.id),this.res.deleteProgram(this.id),this.res.deleteVertexArray(this.id),this.res.deteleTexture(this.id)},t.prototype.paint=function(t,e){var n=this,r=n.angle,o=n.prg,i=n.vao,a=n.scene.gl;a.useProgram(o),a.enable(a.DEPTH_TEST),a.depthFunc(a.LESS),a.bindTexture(a.TEXTURE_2D,this.texture);var l=Math.cos(r),s=Math.sin(r);this.transform.m00=l,this.transform.m10=s,this.transform.m01=-s,this.transform.m11=l,this.transform.setUniform(a,this.uniTransform),a.uniform1i(this.uniTexture,0),a.uniform1f(this.uniLight,this.move(this.zoomFactor)),a.uniform3f(this.uniSpot,0,0,10),a.bindVertexArray(i),a.drawArrays(a.TRIANGLE_STRIP,0,256),a.bindVertexArray(null)},t.prototype.update=function(t,e){this.angle=9e-5*t+this.initialAngle,this.zoomFactor=(0,zt.uZ)(this.zoomFactor+.002*e*(this.highlight?1:-1))},t.prototype.computeProximity=function(t,e){if(Math.pow(t,2)+Math.pow(e,2)>.9)return-1;var n=this.angle;return-Math.cos(n)*t+Math.sin(n)*e},t}();function Lt(t){var e=1024,n=1024,r=document.createElement("canvas");r.width=e,r.height=n;var o=r.getContext("2d");if(!o)throw Error("Unable to create 2D context!");var i="#204657",a="#d6ec64",l=o.createLinearGradient(0,512,e,512);l.addColorStop(0,i),l.addColorStop(.5,i),l.addColorStop(1,a),o.fillStyle=l,o.fillRect(0,0,e,n),o.save(),o.translate(256,n/3),o.scale(1,-2),o.font="".concat(71.68,"px dosis");var s=o.measureText(t);return o.fillStyle=a,o.fillText(t,-.5*s.width,-35.84),o.restore(),r}function Vt(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,3);return[e[0]-.1,e[1]-.1,e[2]]}function Gt(t){var e=new Ft(t,"Work",0),n=new Ft(t,"Blog",2*Math.PI/3),r=new Ft(t,"Contact",-2*Math.PI/3);t.addPainter(new Ot.x(t,{colorValue:[0,0,0,0],depthEnabled:!0,depthValue:1}),e,n,r,new Xt(t,[e,n,r]))}var Xt=function(){function t(t,e){var n,r=this;this.scene=t,this.painters=e,this.pointerX=0,this.pointerY=0,this.selectedPainter=null,this.handleHover=function(t){r.pointerX=t.x,r.pointerY=t.y},this.handleUp=function(){var t=r.selectedPainter;if(t){var e=r.links[t.text];e&&(window.location.hash=e)}};var o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,3),i=o[0],a=o[1],l=o[2];this.links=((n={})[i.text]="/work",n[a.text]="/blog",n[l.text]="/contact",n),t.gestures.eventHover.addListener(this.handleHover),t.gestures.eventDown.addListener(this.handleHover),t.gestures.eventUp.addListener(this.handleUp)}return t.prototype.destroy=function(){this.scene.gestures.eventHover.removeListener(this.handleHover),this.scene.gestures.eventDown.removeListener(this.handleHover),this.scene.gestures.eventUp.removeListener(this.handleUp)},t.prototype.paint=function(t,e){},t.prototype.update=function(t,e){var n,r;this.selectedPainter=null;for(var o=0,i=0;i<this.painters.length;i++){var a=(c=this.painters[i]).computeProximity(this.pointerX,this.pointerY);a>o&&(this.selectedPainter=c,o=a)}try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.painters),s=l.next();!s.done;s=l.next()){var c;(c=s.value).highlight=c===this.selectedPainter}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},t}();function qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t})).join(" ")}var Wt=(0,i.cP)([{path:"*",element:(0,r.jsx)((function(t){var e=t.className;return(0,r.jsx)("div",{className:St(e,Pt.PageNotFound),onPointerDown:function(){return window.location.hash=""},children:(0,r.jsxs)("svg",{version:"1.1",viewBox:"200 0 600 700",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("symbol",{id:"rick",viewBox:"0 0 1000 700",width:"1000",height:"700",children:(0,r.jsxs)("g",{transform:"translate(0,50)",children:[(0,r.jsx)("path",{d:"m456 555-71 31s10-65 3-71c-30-3-92-27-92-27s74-37 84-53c-39 0-135-35-135-35s85-38 119-75c-145-88-100-51-151-76 0 0 95-33 166-28-11-75-73-147-73-147s146 40 158 53c2-43 80-146 80-146s13 156 30 172c58-30 149-39 149-39s-66 93-59 125c41-9 123 43 123 43-28 19-71 56-84 57 24 32 99 56 99 56s-57 33-77 34c-4 7 40 55 40 55l-64 4 24 47c-52-8-270 22-270 22z",fill:"#b0d9ef",stroke:"#000","stroke-width":"4"}),(0,r.jsx)("path",{d:"m497 176c89-16 144 66 144 66 38 114 57 195 51 278-2 44-55 114-105 115-92 0.5-121-37-139-66-15-27-50-116-58-276 0 0 7-97 107-117z",fill:"#dcd0c4",stroke:"#000","stroke-width":"4"}),(0,r.jsxs)("g",{stroke:"#000","stroke-width":"4",children:[(0,r.jsx)("path",{d:"m527 409s12 69 27 67c19-3 8-73 8-73",fill:"none"}),(0,r.jsx)("path",{d:"m449 309c41-10 69 14 74 41 5 26-11 61-41 68-37 8-67-6-72-40-7-32 0.7-61 40-70z",fill:"#fff"}),(0,r.jsx)("path",{d:"m587 281c41-10 69 14 74 41 5 26-11 61-41 68-37 8-67-6-72-40-7-32 0.7-61 40-70z",fill:"#fff"})]}),(0,r.jsx)("path",{d:"m492 366 16 11",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"}),(0,r.jsxs)("g",{transform:"translate(.2 .1)",children:[(0,r.jsx)("path",{d:"m496 381 7-18",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"}),(0,r.jsx)("path",{d:"m509 369-18 6",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"})]}),(0,r.jsxs)("g",{transform:"translate(140 -31)",children:[(0,r.jsx)("path",{d:"m492 366 16 11",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"}),(0,r.jsxs)("g",{transform:"translate(.2 .1)",children:[(0,r.jsx)("path",{d:"m496 381 7-18",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"}),(0,r.jsx)("path",{d:"m509 369-18 6",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"4"})]})]}),(0,r.jsxs)("g",{fill:"none",stroke:"#000","stroke-linecap":"round",children:[(0,r.jsx)("path",{d:"m419 428c14 20 40 29 93 0.3","stroke-width":"2"}),(0,r.jsx)("path",{d:"m584 416c35 18 85-18 86-26","stroke-width":"2"}),(0,r.jsx)("path",{d:"m477 546c48-34 105-47 177-40","stroke-width":"4"})]}),(0,r.jsxs)("g",{stroke:"#000","stroke-width":"4",children:[(0,r.jsx)("path",{d:"m527 520c-4 5 9 18 22 19 10-2 11 34 26 32 10-4 3-33 8-33 7-1 11-27 8-31",fill:"#dcffea"}),(0,r.jsxs)("g",{"stroke-linecap":"round",children:[(0,r.jsx)("path",{d:"m407 292c12 12 59-34 104-44s110 22 114 7-85-31-125-23-104 49-93 60z",fill:"#b0d9ef","stroke-linejoin":"round"}),(0,r.jsx)("path",{d:"m487 564c-21 0.5-29-19-21-35",fill:"none"}),(0,r.jsx)("path",{d:"m657 524c17-3 21-27 8-37",fill:"none"})]})]})]})}),(0,r.jsx)("filter",{id:"blur",children:(0,r.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"15"})}),(0,r.jsxs)("clipPath",{id:"clip",children:[(0,r.jsx)("text",{x:"500",y:"100","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Page"}),(0,r.jsx)("text",{x:"500",y:"230","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Not"}),(0,r.jsx)("text",{x:"500",y:"360","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Found"})]})]}),(0,r.jsx)("use",{href:"#rick"}),(0,r.jsxs)("g",{"clip-path":"url(#clip)",children:[(0,r.jsx)("use",{href:"#rick",filter:"url(#blur)"}),(0,r.jsx)("rect",{x:"0",y:"0",width:"1000",height:"700",fill:"#f772"})]}),(0,r.jsxs)("g",{stroke:"#000",fill:"none","stroke-width":"2","stroke-linejoin":"round",children:[(0,r.jsx)("text",{x:"500",y:"100","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Page"}),(0,r.jsx)("text",{x:"500",y:"230","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Not"}),(0,r.jsx)("text",{x:"500",y:"360","font-size":"120","font-weight":"700","text-anchor":"middle",children:"Found"})]})]})})}),{})},{path:"/",element:(0,r.jsx)((function(t){var e=t.className;return(0,r.jsxs)("div",{className:qt(e,Nt.Welcome),children:[(0,r.jsx)("header",{children:"Tolokoban"}),(0,r.jsx)("main",{children:(0,r.jsx)(Mt,{autoPlay:!0,init:Gt,context:{alpha:!0,antialias:!0,depth:!0,premultipliedAlpha:!1}})}),(0,r.jsx)("img",{className:Nt.trombine,src:"images/trombine/trombine.webp"})]})}),{})},{path:"work",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){n.e(644).then(n.bind(n,3644)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:ut(e,ct.Index),children:i})}),{})},{path:"work/Akonolinga",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(744).then(n.bind(n,1744)).then((function(t){var e=t.default({});i(e)})):n.e(623).then(n.bind(n,3623)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:z(e,B.Akonolinga),children:i})}),{})},{path:"work/ApiHrGraph",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(280).then(n.bind(n,4280)).then((function(t){var e=t.default({});i(e)})):n.e(759).then(n.bind(n,1759)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:D(e,C.ApiHrGraph),children:i})}),{})},{path:"work/FrancaisFacile",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(524).then(n.bind(n,9524)).then((function(t){var e=t.default({});i(e)})):n.e(532).then(n.bind(n,3294)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:G(e,V.FrancaisFacile),children:i})}),{})},{path:"work/HandsOnWebGL",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(181).then(n.bind(n,1181)).then((function(t){var e=t.default({});i(e)})):n.e(930).then(n.bind(n,9930)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:J(e,Q.HandsOnWebGL),children:i})}),{})},{path:"work/Tournus",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(242).then(n.bind(n,7242)).then((function(t){var e=t.default({});i(e)})):n.e(788).then(n.bind(n,6788)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:nt(e,et.Tournus),children:i})}),{})},{path:"work/TrailTar",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(134).then(n.bind(n,2134)).then((function(t){var e=t.default({});i(e)})):n.e(34).then(n.bind(n,7034)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:at(e,it.TrailTar),children:i})}),{})},{path:"work/MediationFamilliale",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(703).then(n.bind(n,703)).then((function(t){var e=t.default({});i(e)})):n.e(675).then(n.bind(n,8675)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:H(e,W.MediationFamilliale),children:i})}),{})},{path:"work/Minervois",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?Promise.all([n.e(412),n.e(510)]).then(n.bind(n,7510)).then((function(t){var e=t.default({});i(e)})):Promise.all([n.e(412),n.e(116)]).then(n.bind(n,2116)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:Et(e,wt.Minervois),children:i})}),{})},{path:"blog",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){n.e(875).then(n.bind(n,1875)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:A(e,w.Index),children:i})}),{})},{path:"blog/game/ColorGuess",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){Promise.all([n.e(412),n.e(489)]).then(n.bind(n,5489)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:pt(e,dt.ColorGuess),children:i})}),{})},{path:"blog/math/CrossingBoats",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){"fr"===t?n.e(297).then(n.bind(n,4297)).then((function(t){var e=t.default({});i(e)})):Promise.all([n.e(412),n.e(44)]).then(n.bind(n,5044)).then((function(t){var e=t.default({});i(e)}))}),[t]),r}();return(0,r.jsx)(E.Z,{className:gt(e,mt.CrossingBoats),children:i})}),{})},{path:"blog/webgl/Blending",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){switch(t){case"fr":Promise.all([n.e(412),n.e(713)]).then(n.bind(n,7713)).then((function(t){var e=t.default({});i(e)}));break;case"it":Promise.all([n.e(412),n.e(579)]).then(n.bind(n,6579)).then((function(t){var e=t.default({});i(e)}));break;default:Promise.all([n.e(412),n.e(471)]).then(n.bind(n,9471)).then((function(t){var e=t.default({});i(e)}))}}),[t]),r}();return(0,r.jsx)(E.Z,{className:Z(e,j.Blending),children:i})}),{})},{path:"blog/webgl/InfinitePlane",element:(0,r.jsx)((function(t){var e=t.className,i=function(){var t=(0,T.z)(),e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(o.useState(null),2),r=e[0],i=e[1];return o.useEffect((function(){switch(t){case"fr":Promise.all([n.e(412),n.e(545)]).then(n.bind(n,545)).then((function(t){var e=t.default({});i(e)}));break;case"it":Promise.all([n.e(412),n.e(254)]).then(n.bind(n,1254)).then((function(t){var e=t.default({});i(e)}));break;default:Promise.all([n.e(412),n.e(576)]).then(n.bind(n,1576)).then((function(t){var e=t.default({});i(e)}))}}),[t]),r}();return(0,r.jsx)(E.Z,{className:R(e,U.InfinitePlan),children:i})}),{})}]);function Ht(t){return t.className,(0,r.jsx)(o.StrictMode,{children:(0,r.jsx)(a.pG,{router:Wt})})}function Yt(){return(0,r.jsx)(Ht,{})}},1351:(t,e,n)=>{n.d(e,{AO:()=>a,Bq:()=>c,QC:()=>u,Qm:()=>f,uZ:()=>h,yb:()=>s});var r,o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=function(t){function e(n,r,o){var i=t.call(this)||this;return"number"==typeof n?(i.data[0]=n,i.data[1]=null!=r?r:0,i.data[2]=null!=o?o:0,i):(n instanceof e&&i.data.set(n.data),i)}return o(e,t),e.fromPolar=function(t,n,r){return void 0===r&&(r=0),new e(n*Math.cos(t),n*Math.sin(t),r)},e.fromSubtract=function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z)},Object.defineProperty(e.prototype,"xyz",{get:function(){return this.data.subarray(0,3)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!1,configurable:!0}),e.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),i=o.next();!i.done;i=o.next()){var a=i.value;this.x+=a.x,this.y+=a.y,this.z+=a.z}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return this},e.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},e.prototype.dot=function(t){var e=this.x*t.x,n=this.y*t.y,r=this.z*t.z;return e*e+n*n+r*r},e.prototype.clone=function(){return new e(this)},e.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},e.prototype.setUniform=function(t,e){t.uniform3fv(e,this.data)},e.prototype.lengthSquare=function(){var t=i(this.data,3),e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},e.prototype.length=function(){return Math.sqrt(this.lengthSquare())},e.prototype.normalize=function(){var t=this.lengthSquare(),e=t>1e-12?1/Math.sqrt(t):0;return this.x*=e,this.y*=e,this.z*=e,this},e}(function(){function t(e,n){this.data=new Float32Array(4),"number"!=typeof e?e instanceof t&&(this.data=new Float32Array(e.data)):this.data=new Float32Array([e,null!=n?n:0])}return t.fromPolar=function(e,n){return new t(n*Math.cos(e),n*Math.sin(e))},t.fromSubtract=function(e,n){return new t(e.x-n.x,e.y-n.y)},Object.defineProperty(t.prototype,"xy",{get:function(){return this.data.subarray(0,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!1,configurable:!0}),t.prototype.setUniform=function(t,e){t.uniform3fv(e,this.data)},t.prototype.lengthSquare=function(){var t=i(this.data,2),e=t[0],n=t[1];return e*e+n*n},t.prototype.length=function(){return Math.sqrt(this.lengthSquare())},t.prototype.normalize=function(){var t=this.lengthSquare(),e=t>1e-12?1/Math.sqrt(t):0;return this.x*=e,this.y*=e,this},t}()),l=(function(t){function e(n,r,o,i){var a=t.call(this)||this;return"number"==typeof n?(a.data=new Float32Array([n,null!=r?r:0,null!=o?o:0,null!=i?i:1]),a):n instanceof e?(a.data=new Float32Array(n.data),a):(a.data=new Float32Array([0,0,0,1]),a)}o(e,t),Object.defineProperty(e.prototype,"w",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!1,configurable:!0}),e.prototype.setUniform=function(t,e){t.uniform4fv(e,this.data)},e.prototype.lengthSquare=function(){var t=i(this.data,4),e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o},e.prototype.length=function(){return Math.sqrt(this.lengthSquare())},e.prototype.normalize=function(){var t=this.lengthSquare(),e=t>1e-12?1/Math.sqrt(t):0;return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}}(a),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])),s=function(){function t(){this.data=new Float32Array(l)}return t.prototype.setUniform=function(t,e){t.uniformMatrix4fv(e,!1,this.data)},Object.defineProperty(t.prototype,"m00",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m01",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m02",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m03",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m10",{get:function(){return this.data[4]},set:function(t){this.data[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m11",{get:function(){return this.data[5]},set:function(t){this.data[5]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m12",{get:function(){return this.data[6]},set:function(t){this.data[6]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m13",{get:function(){return this.data[7]},set:function(t){this.data[7]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m20",{get:function(){return this.data[8]},set:function(t){this.data[8]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m21",{get:function(){return this.data[9]},set:function(t){this.data[9]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m22",{get:function(){return this.data[10]},set:function(t){this.data[10]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m23",{get:function(){return this.data[11]},set:function(t){this.data[11]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m30",{get:function(){return this.data[12]},set:function(t){this.data[12]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m31",{get:function(){return this.data[13]},set:function(t){this.data[13]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m32",{get:function(){return this.data[14]},set:function(t){this.data[14]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"m33",{get:function(){return this.data[15]},set:function(t){this.data[15]=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){var t=this.data.reduce((function(t,e){return Math.max(t,e.toFixed(3).length)}),0),e=function(e){for(var n=e.toFixed(3);n.length<t;)n=" ".concat(n);return" ".concat(n," ")},n="display:inline-block;font-size:100%;font-family:monospace;color:#fff;line-height:3em;",r="".concat(n,"background:#000"),o="".concat(n,"background:#333"),i="display:block;line-height:0;margin:0;padding:0;";console.log("%c".concat(e(this.m00),"%c").concat(e(this.m01),"%c").concat(e(this.m02),"%c").concat(e(this.m03),"%c\n%c").concat(e(this.m10),"%c").concat(e(this.m11),"%c").concat(e(this.m12),"%c").concat(e(this.m13),"%c\n%c").concat(e(this.m20),"%c").concat(e(this.m21),"%c").concat(e(this.m22),"%c").concat(e(this.m23),"%c\n%c").concat(e(this.m30),"%c").concat(e(this.m31),"%c").concat(e(this.m32),"%c").concat(e(this.m33)),r,o,r,o,i,o,r,o,r,i,r,o,r,o,i,o,r,o,r)},t}();function c(t,e,n,r){var o=Math.cos(n),i=Math.sin(n),a=t.x,l=t.y,s=t.z,c=e.x,u=e.y,f=e.z,h=c*c,d=c*u,p=c*f,v=u*u,y=u*f,m=f*f;r.x=a*(o+(1-o)*h)+l*((1-o)*d-i*f)+s*((1-o)*p+i*u),r.y=a*((1-o)*d+i*f)+l*(o+(1-o)*v)+s*((1-o)*y-i*c),r.z=a*((1-o)*p-i*u)+l*((1-o)*y+i*c)+s*(o+(1-o)*m)}function u(t,e,n){var r=Math.cos(e),o=Math.sin(e),i=t.x,a=t.y,l=t.z;n.x=i*r+l*o,n.y=a,n.z=-i*o+l*r}function f(t,e,n){var r=Math.cos(e),o=Math.sin(e),i=t.x,a=t.y,l=t.z;n.x=i*r+a*o,n.y=-i*o+a*r,n.z=l}function h(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t}},7381:(t,e,n)=>{n.d(e,{_:()=>i});var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function t(t,e){var n,o;if(this.verticesCount=e,e<1)throw Error("The minimum number of vertices for a Data is 1!");var i=0,l={},s=0;try{for(var c=r(Object.keys(t)),u=c.next();!u.done;u=c.next()){var f=u.value,h=a(t[f]);s+=h.bytesPerElement*h.dimension*e,l[f]=h,h.shift=i,i+=h.bytesPerElement*h.dimension}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.definitions=l,this.stride=i,this.buffer=new ArrayBuffer(s)}return t.prototype.poke=function(t,e,n){void 0===n&&(n=0);var r=t;if(n<0)throw Error("We were expecting a positive vertex index for attribute ".concat(r," but we got ").concat(n,"!"));if(n>=this.verticesCount)throw Error("Max vertex index for attribute ".concat(r," is ").concat(this.verticesCount-1," but we got ").concat(n,"!"));var o=this.definitions[r],i=o.dimension*o.size;if(0===e.length||e.length%i!=0)throw console.log("🚀 [data] attribName = ",t),console.log("🚀 [data] values = ",e),console.log("🚀 [data] vertexIndex = ",n),Error('Attribute "'.concat(r,'" must have a integral multiple of ').concat(i," numbers, but we got ").concat(e.length,"!"));var a=Math.floor(e.length/i);if(n+a>this.verticesCount)throw Error('For attribute "'.concat(r,'" you tried to poke values from index ').concat(n," to ").concat(n+a-1," but only ").concat(this.verticesCount," vertices are available!"));for(var l=this.stride,s=this.buffer,c=new DataView(s),u=0,f=n;f<n+a;f++)for(var h=o.shift+l*f,d=0;d<i;d++)o.setter(c,h,e[u++]),h+=o.bytesPerElement},t.prototype.get=function(){return this.buffer},t.prototype.push=function(t,e,n){var r;void 0===n&&(n="STATIC_DRAW");var o=null!==(r=t[n])&&void 0!==r?r:t.STATIC_DRAW,i=this.buffer;return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,i,o),i},t.prototype.defineAttributes=function(t,e,n,o){var i,a;void 0===o&&(o=0),t.bindBuffer(t.ARRAY_BUFFER,n);try{for(var l=r(Object.keys(this.definitions)),s=l.next();!s.done;s=l.next()){var c=s.value,u=this.definitions[c],f=t.getAttribLocation(e,c);t.enableVertexAttribArray(f),t.vertexAttribPointer(f,u.dimension*u.size,t.FLOAT,!1,this.stride,u.shift),t.vertexAttribDivisor(f,o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}},t}();function i(t,e){return new o(e,t)}function a(t){var e,n="number"==typeof t?{dimension:t,size:1,type:"float"}:t;if("float"===n.type)return{dimension:(e=n).dimension,size:e.size,bytesPerElement:Float32Array.BYTES_PER_ELEMENT,shift:0,getter:function(t,e){return t.getFloat32(e,!0)},setter:function(t,e,n){t.setFloat32(e,n,!0)}};throw Error('Unable to create a Data for an attribute of type "'.concat(n.type,'"!'))}},7957:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(){function t(t,e){this.scene=t,this.enabled=!1,this.factorSrcColor="ONE",this.factorSrcAlpha="ONE",this.factorDstColor="ONE",this.factorDstAlpha="ONE",this.functionColor="FUNC_ADD",this.functionAlpha="FUNC_ADD",e.enabled&&(this.enabled=e.enabled),e.factorSrcColor&&(this.factorSrcColor=e.factorSrcColor),e.factorSrcAlpha&&(this.factorSrcAlpha=e.factorSrcAlpha),e.factorDstColor&&(this.factorDstColor=e.factorDstColor),e.factorDstAlpha&&(this.factorDstAlpha=e.factorDstAlpha),e.functionColor&&(this.functionColor=e.functionColor),e.functionAlpha&&(this.functionAlpha=e.functionAlpha)}return t.prototype.destroy=function(){},t.prototype.paint=function(t,e){var n=this,r=n.scene,o=n.enabled,i=n.factorDstAlpha,a=n.factorDstColor,l=n.factorSrcAlpha,s=n.factorSrcColor,c=n.functionAlpha,u=n.functionColor,f=r.gl;o?(f.enable(f.BLEND),f.blendEquationSeparate(f[u],f[c]),f.blendFuncSeparate(f[s],f[a],f[l],f[i])):f.disable(f.BLEND)},t.prototype.update=function(t,e){},t}()},1543:(t,e,n)=>{n.d(e,{x:()=>i});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o={colorClear:!1,colorValue:[0,0,0,1],depthClear:!1,depthEnabled:!0,depthFunc:"LESS",depthMax:1,depthMin:0,depthValue:1};const i=function(){function t(t,e){this.scene=t,this.clearMask=0,this.options=r({},o),this.set(e)}return t.prototype.set=function(t){var e,n=this.scene;if(this.options=r(r({},this.options),t),this.clearMask=0,"number"==typeof t.colorValue&&(this.clearMask|=n.gl.COLOR_BUFFER_BIT,this.options.colorClear=!0),"number"==typeof t.depthValue){this.clearMask|=n.gl.DEPTH_BUFFER_BIT,this.options.depthClear=!0;var o=null===(e=n.gl.getContextAttributes())||void 0===e?void 0:e.depth;if(!0!==o)throw Error("WebGL2 context has been initialized with depth:".concat(o,"!\nHence, we cannot use depth!"))}},t.prototype.destroy=function(){},t.prototype.paint=function(t,e){var n=this,r=n.clearMask,o=n.scene,i=n.options,a=o.gl;i.colorClear&&a.clearColor.apply(a,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(i.colorValue),!1)),i.depthClear&&(i.depthEnabled?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),a.clearDepth(i.depthValue),a.depthFunc(a[i.depthFunc]),a.depthRange(i.depthMin,i.depthMax),a.depthMask(!0)),r>0&&a.clear(r)},t.prototype.update=function(t,e){},t}();n(7957)},329:(t,e,n)=>{n.d(e,{Z:()=>p});var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const o=function(){function t(t){void 0===t&&(t=[]),this.enabled=!0,this.painters=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t),!1)}return t.prototype.add=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var i=r(n),a=i.next();!a.done;a=i.next()){var l=a.value;this.painters.push(l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.destroy=function(){var t,e;try{for(var n=r(this.painters),o=n.next();!o.done;o=n.next())o.value.destroy()}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.painters.splice(0,this.painters.length)},t.prototype.paint=function(t,e){var n,o;if(this.enabled)try{for(var i=r(this.painters),a=i.next();!a.done;a=i.next())a.value.paint(t,e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},t.prototype.update=function(t,e){var n,o;if(this.enabled)try{for(var i=r(this.painters),a=i.next();!a.done;a=i.next())a.value.update(t,e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},t}();var i=n(1558);const a=function(){function t(){this.map=new Map,this.count=new Map}return t.prototype.add=function(t,e){var n,r=this.map,o=this.count;if(o.has(t)){o.set(t,1+(null!==(n=o.get(t))&&void 0!==n?n:0));var i=r.get(t);if(!i)throw Error("[CountMap] Map should not be empty!");return i}var a=e();return r.set(t,a),o.set(t,1),a},t.prototype.delete=function(t){var e,n=this.map,r=this.count;if(n.has(t)){var o=(null!==(e=r.get(t))&&void 0!==e?e:0)-1;if(!(o>0)){var i=n.get(t);return n.delete(t),r.delete(t),i}r.set(t,o)}},t}();var l=function(){function t(){this.images=new a}return t.prototype.createImage=function(t){var e=t;return this.images.add(e,(function(){var n=new Image;return n.loading="eager",{type:"TgdAssetImage",key:e,data:n,isSuccessfullyLoaded:new Promise((function(e){n.src=t,n.onload=function(){return e(!0)},n.onerror=function(){return e(!1)}}))}}))},t.prototype.destroyImage=function(t){this.images.delete(t.key)},t}();const s=l,c=function(){function t(t){this.gl=t}return t.prototype.loadTextureCubeMap=function(t,e){var n=this.gl;e.isSuccessfullyLoaded.then((function(){n.bindTexture(n.TEXTURE_CUBE_MAP,t),n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,2,1)),n.texImage2D(n.TEXTURE_CUBE_MAP_NEGATIVE_X,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,0,1)),n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_Y,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,1,0)),n.texImage2D(n.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,1,2)),n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_Z,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,1,1)),n.texImage2D(n.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u(e.data,3,1)),n.generateMipmap(n.TEXTURE_CUBE_MAP),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR)}))},t.prototype.loadTexture2D=function(t,e){var n=e.image,r=e.placeholder,o=void 0===r?[0,0,0,1]:r,i=e.wrapS,a=void 0===i?"REPEAT":i,l=e.wrapT,s=void 0===l?"REPEAT":l,c=this.gl;c.bindTexture(c.TEXTURE_2D,t);var u=c.RGBA,f=c.RGBA,h=c.UNSIGNED_BYTE,d=new Uint8Array(o);c.texImage2D(c.TEXTURE_2D,0,u,1,1,0,f,h,d),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c[a]),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c[s]);var p=function(){c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,n)};p(),"function"==typeof n.addEventListener&&n.addEventListener("load",p)},t}();function u(t,e,n){var r=t.width/4,o=t.height/3,i=document.createElement("canvas");i.width=r,i.height=o;var a=i.getContext("2d");if(!a)throw Error("Unable to create context 2D!");return a.drawImage(t,-e*r,-n*o),document.body.appendChild(i),i}var f=function(){this.buffers=new a,this.shaders=new a,this.programs=new a,this.textures=new a,this.vertexArrays=new a},h=function(){function t(t,e){this.gl=t,this.bag=e}return t.make=function(e,n){var r=function(t,e){var n=t.get(e);if(n)return n;var r=new Map;return t.set(e,r),r}(t.resources,e),o=r.get(n);if(o)return new t(e,o);var i=new f;return r.set(n,i),new t(e,i)},t.prototype.createVertexArray=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl;return e.vertexArrays.add(t,(function(){var t=n.createVertexArray();if(!t)throw Error("Unable to create a VAO!");return t}))},t.prototype.deleteVertexArray=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl,r=e.vertexArrays.delete(t);r&&n.deleteVertexArray(r)},t.prototype.createBuffer=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl;return e.buffers.add(t,(function(){var e=n.createBuffer();if(!e)throw Error('Unable to create WebGL2 buffer "'.concat(t,'"!'));return e}))},t.prototype.deleteBuffer=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl,r=e.buffers.delete(t);r&&n.deleteBuffer(r)},t.prototype.createShader=function(t,e,n){void 0===n&&(n="default");var r=this.bag,o=this.gl;return r.shaders.add("".concat(t,"\n").concat(n),(function(){var n=o.createShader("vertex"===t?o.VERTEX_SHADER:o.FRAGMENT_SHADER);if(!n)throw Error("Unable to create a Vertex Shader handle!");return o.shaderSource(n,e),o.compileShader(n),n}))},t.prototype.deleteShader=function(t,e){var n=this.bag,r=this.gl,o=n.shaders.delete("".concat(e,"\n").concat(t));o&&r.deleteShader(o)},t.prototype.createProgram=function(t,e){void 0===e&&(e="default");var n=this.bag,r=this.gl,o=n.programs.add(e,(function(){var t=r.createProgram();if(!t)throw Error('Unable to create a WebGL program "'.concat(e,'"!'));return t})),i=this.createShader("vertex",t.vert,e);r.attachShader(o,i);var a=this.createShader("fragment",t.frag,e);if(r.attachShader(o,a),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var l=r.getProgramInfoLog(o);throw new Error("Could NOT link WebGL2 program!\n"+l)}return o},t.prototype.deleteProgram=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl,r=e.programs.delete(t);r&&n.deleteProgram(r)},t.prototype.createTexture=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl;return e.textures.add(t,(function(){var e=n.createTexture();if(!e)throw Error('Unable to create WebGL texture "'.concat(t,'"!'));return e}))},t.prototype.deteleTexture=function(t){void 0===t&&(t="default");var e=this.bag,n=this.gl,r=e.textures.delete(t);r&&n.deleteTexture(r)},t.resources=new Map,t}();const d=h;const p=function(){function t(t,e){var n=this;this.canvas=t,this.handle=0,this.painters=new o,this.isAnimated=!1,this.lastCanvasWidth=0,this.lastCanvasHeight=0,this.lastTime=-1,this._screenRatio=1,this.gesturesManager=null,this.actualPaint=function(t){var e=n,r=e.gl,o=e.lastCanvasWidth,i=e.lastCanvasHeight;if(e.lastTime<0)return n.lastTime=t,void n.paint();var a=r.canvas,l=window.devicePixelRatio,s=Math.max(1,Math.round(a.clientWidth*l)),c=Math.max(1,Math.round(a.clientHeight*l));o===s&&i===c||(a.width=s,a.height=c,n.lastCanvasWidth=s,n.lastCanvasHeight=c,r.viewport(0,0,s,c),n.screenRatio=s/c);var u=t-n.lastTime;n.lastTime=t,n.painters.paint(t,u),n.painters.update(t,u),n.isAnimated&&n.paint()};var r=t.getContext("webgl2",e);if(!r)throw Error("Unable to create a WebGL2 context!");this.gl=r,this.asset=new s,this.texture=new c(r)}return Object.defineProperty(t.prototype,"gestures",{get:function(){return this.gesturesManager||(this.gesturesManager=new i.Z,this.gesturesManager.attach(this.canvas)),this.gesturesManager},enumerable:!1,configurable:!0}),t.prototype.getResources=function(t){return d.make(this.gl,t)},t.prototype.getUniformLocation=function(t,e){var n=this.gl.getUniformLocation(t,e);if(!n){for(var r=[],o=this.gl.getProgramParameter(t,this.gl.ACTIVE_UNIFORMS),i=0;i<o;i++){var a=this.gl.getActiveUniform(t,i);a&&r.push(a.name)}throw Error('Unable to get uniform location of "'.concat(e,'"!\nActive uniforms are: ').concat(r.join(", "),"."))}return n},Object.defineProperty(t.prototype,"screenRatio",{get:function(){return this._screenRatio},set:function(t){this._screenRatio=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.lastCanvasWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.lastCanvasHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animate",{get:function(){return this.isAnimated},set:function(t){this.isAnimated!==t&&(this.isAnimated=t,t&&this.paint())},enumerable:!1,configurable:!0}),t.prototype.addPainter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n=this,r=void 0,i=function(){var e,n,r,o,i;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(a){try{for(e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n=e.next();!n.done;n=e.next())r=n.value,this.painters.add(r)}catch(t){o={error:t}}finally{try{n&&!n.done&&(i=e.return)&&i.call(e)}finally{if(o)throw o.error}}return[2]}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{s(i.next(t))}catch(t){e(t)}}function l(t){try{s(i.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,l)}s((i=i.apply(n,r||[])).next())}));var n,r,o,i},t.prototype.paint=function(){window.cancelAnimationFrame(this.handle),this.handle=window.requestAnimationFrame(this.actualPaint)},t.prototype.destroy=function(){this.painters.destroy(),this.gesturesManager&&this.gesturesManager.detach(this.canvas)},t}()},1558:(t,e,n)=>{n.d(e,{Z:()=>i});const r=function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){var e=this.listeners;e.includes(t)||e.push(t)},t.prototype.removeListener=function(t){this.listeners=this.listeners.filter((function(e){return e!==t}))},t.prototype.dispatch=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;try{i(t)}catch(t){console.error("Error in an event listener!"),console.error("  error:   ",t),console.error("  listener:",i)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};const i=function(){function t(){var t=this;this.eventDown=new r,this.eventDrag=new r,this.eventHover=new r,this.eventUp=new r,this.eventZoom=new r,this.pointers=new Map,this.handleWheel=function(e){var n=e.deltaY>0?1:-1;t.eventZoom.dispatch(n)},this.handlePointerDown=function(e){var n=e.target;if(n){n.setPointerCapture(e.pointerId);var r=a(e),o={first:r,previous:r};t.pointers.set(r.id,o),t.eventDown.dispatch(r)}},this.handlePointerMove=function(e){var n=t.pointers.get(e.pointerId),r=a(e);t.eventHover.dispatch(r),n&&(t.eventDrag.dispatch(o(o({},n),{current:r})),n.previous=r)},this.handlePointerUp=function(e){var n=t.pointers.get(e.pointerId);if(n){var r=e.target;if(r){r.releasePointerCapture(e.pointerId),t.pointers.delete(e.pointerId);var i=a(e);t.eventUp.dispatch(o(o({},n),{current:i}))}}}}return t.prototype.attach=function(t){t.addEventListener("pointerdown",this.handlePointerDown),t.addEventListener("pointerup",this.handlePointerUp),t.addEventListener("pointermove",this.handlePointerMove),t.addEventListener("wheel",this.handleWheel)},t.prototype.detach=function(t){t.removeEventListener("pointerdown",this.handlePointerDown),t.removeEventListener("pointerup",this.handlePointerUp),t.removeEventListener("pointermove",this.handlePointerMove),t.removeEventListener("wheel",this.handleWheel)},t}();function a(t){var e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;return{realX:n,realY:r,x:2*(n/e.width-.5),y:2*(.5-r/e.height),id:t.pointerId,button:t.button,timestamp:t.timeStamp}}}}]);