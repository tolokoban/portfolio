"use strict";(self.webpackChunkapihr_graph=self.webpackChunkapihr_graph||[]).push([[143],{6164:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,"div.App {\n    position: fixed;\n    margin: 0;\n    padding: 0;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: stretch;\n}\n\ndiv.App > .sidebar {\n    width: 400px;\n    flex: 0 0 auto;\n    padding: 1em;\n    z-index: 1;\n    background-color: var(--theme-color-primary);\n    box-shadow: 4px 0 8px #0008;\n    overflow: auto;\n}\n\ndiv.App > .sidebar.legend {\n    width: 320px;\n}\n\ndiv.App > .main {\n    flex: 1 1 auto;\n    z-index: 0;\n}\n\ndiv.padding {\n    padding: 0.5em;\n}\n\ndiv.margin {\n    margin: 0.5em;\n}\n\ndiv.App h1 {\n    margin: 0 0 0.5em 0;\n    text-align: center;\n    opacity: 0.6;\n}\n\nh1 {\n    font-size: 1.5rem;\n    text-align: center;\n}\n",""]);const l=i},9958:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".app-section-editor-dialog-FileSaveDialog {}\n",""]);const l=i},9629:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".app-GraphStorageView {\n    padding-top: 1em;\n}\n",""]);const l=i},8901:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".app-section-EditorSection {\n    overflow: auto;\n}\n",""]);const l=i},3788:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,':root {\n    --theme-color-primary: #65e8e7;\n    --theme-color-on-primary: #000;\n    --theme-color-primary-dark: #3e9191;\n    --theme-color-on-primary-dark: #fff;\n    --theme-color-accent: hsl(0, 74%, 67%);\n    --theme-color-accent-fastest: hsl(0, 60%, 40%);\n    --theme-color-accent-fast: hsl(0, 70%, 61%);\n    --theme-color-accent-slow: hsl(0, 80%, 77%);\n    --theme-color-accent-slowest: hsl(0, 90%, 93%);\n}\n\n.fastest {\n    --theme-color-accent: var(--theme-color-accent-fastest);\n    color: #fff;\n    stroke-dasharray: none;\n}\n.fast {\n    --theme-color-accent: var(--theme-color-accent-fast);\n    color: #000;\n    stroke-dasharray: 4 2;\n}\n.slow {\n    --theme-color-accent: var(--theme-color-accent-slow);\n    color: #000;\n    stroke-dasharray: 3 3;\n}\n.slowest {\n    --theme-color-accent: var(--theme-color-accent-slowest);\n    color: #000;\n    stroke-dasharray: 2 4;\n}\n\nhtml,\nbody {\n    margin: 0;\n    font-family: roboto, "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",\n        "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n        "Helvetica Neue", sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 1.5vmin;\n}\n\ncode {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n        monospace;\n}\n\n#tgd-logo.vanish {\n    transition: opacity var(--delay);\n    opacity: 0;\n}\n\n*,\n*::after,\n*::before {\n    box-sizing: border-box;\n}\n\n.flex {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n}\n\n.flex.wrap {\n    flex-wrap: wrap;\n}\n\n.flex.row {\n    flex-direction: row;\n}\n\n.flex.column {\n    flex-direction: column;\n}\n\n.flex.space-between {\n    justify-content: space-between;\n}\n\n.flex.space-around {\n    justify-content: space-around;\n}\n\n.flex.stretch {\n    align-items: stretch;\n}\n\n.flex.gap1 {\n    gap: 1em;\n}\n\n.flex.gap05 {\n    gap: 0.5em;\n}\n\n.flex.gap025 {\n    gap: 0.25em;\n}\n\n.flex.gap0125 {\n    gap: 0.125em;\n}\n\n.flex.pad1 {\n    padding: 1em;\n}\n\n.flex.pad05 {\n    padding: 0.5em;\n}\n\n.flex.pad025 {\n    padding: 0.25em;\n}\n\n.flex.pad0125 {\n    padding: 0.125em;\n}\n\n.flex-0 {\n    flex: 0 0 auto;\n}\n\n.flex-1 {\n    flex: 1 1 auto;\n}\n',""]);const l=i},4951:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-RadiusEditorView {}\n",""]);const l=i},9204:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-AppDetailView {\n    margin-top: 1em;\n}\n\n.view-AppDetailView div.header.flex {\n    padding: 0.5em 1em;\n}\n\n.view-AppDetailView div.body {\n    padding: 1em;\n}\n",""]);const l=i},4096:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-AppLinksView {\n    margin-top: 1em;\n    border-top: 1px solid #0007;\n}\n\n.view-AppLinksView > div.flex {\n    padding: 1em;\n    gap: 1em;\n}\n\n.view-AppLinksView div.link-item {\n    border-bottom: 1px solid #0007;\n    padding: 0.5em;\n}\n\n.view-AppLinksView div.link-item div.quality-disk {\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    font-size: 0;\n    border-radius: 1px solid #0006;\n    background-color: var(--theme-color-accent);\n}\n",""]);const l=i},5427:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-AppsListView {}\n",""]);const l=i},4494:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-BackgroundDiskView {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n}\n",""]);const l=i},4089:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-BendEditorView > label {\n    opacity: 0.5;\n    font-size: 80%;\n    white-space: nowrap;\n    flex: 0 0 auto;\n}\n\n.view-BendEditorView > .slider {\n    flex: 1 1 auto;\n    width: 240px;\n}\n\n.view-BendEditorView {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1em;\n    padding: 0 1em;\n}\n",""]);const l=i},4824:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,'.view-GraphNodeView {\n    font-size: var(--graph-node-size, 2vmin);\n    font-variant: small-caps;\n    font-weight: 900;\n    position: absolute;\n    width: 7em;\n    height: 7em;\n    margin: -3.5em;\n    left: 50%;\n    top: 50%;\n    opacity: 1;\n    transition: all 0.5s;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    cursor: pointer;\n    background-image: linear-gradient(\n        to bottom,\n        #eef8ff,\n        #eef8ff 50%,\n        var(--theme-color-accent) 50%,\n        var(--theme-color-accent)\n    );\n    border: none;\n    box-shadow: 0 4px 8px #0007;\n    border-radius: 50%;\n    padding: 0.25em 0.25em;\n}\n\n.view-GraphNodeView div.type {\n    color: #000;\n    white-space: nowrap;\n    height: 2.5em;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.view-GraphNodeView div.type > div.slot {\n    content: " ";\n    width: 0.5em;\n    height: 0.5em;\n    border-radius: 50%;\n    background-color: var(--theme-color-accent);\n}\n\n.view-GraphNodeView div.name {\n    opacity: 0.5;\n    font-size: 80%;\n}\n\n.view-GraphNodeView.hide {\n    opacity: 0;\n}\n',""]);const l=i},1749:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-InputFileView {}\n",""]);const l=i},5200:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,'.view-LegendView {\n    height: 100%;\n}\n\n.view-LegendView > div.logo {\n    cursor: pointer;\n    transition: filter 0.3s;\n}\n\n.view-LegendView > div.logo > img {\n    max-width: 98%;\n    max-height: 150px;\n}\n\n.view-LegendView > div.logo:hover > img {\n    filter: brightness(150%);\n}\n\n.view-LegendView fieldset {\n    box-shadow: 0 2px 4px #000a;\n}\n\n.view-LegendView fieldset > legend {\n    border-radius: 999vmax;\n    background-color: var(--theme-color-primary-dark);\n    color: var(--theme-color-on-primary-dark);\n    padding: 0 1em;\n}\n\n.view-LegendView fieldset > div {\n    font-size: 80%;\n}\n\n.view-LegendView fieldset > div.grid {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    place-items: center start;\n    gap: 1em;\n}\n\n.view-LegendView fieldset {\n    border: none;\n    background-color: #fff4;\n}\n\n.view-LegendView fieldset > div path {\n    stroke: var(--theme-color-accent);\n}\n\n.view-LegendView fieldset div.app-container {\n    width: 100px;\n}\n\n.view-LegendView fieldset div.app {\n    content: ".";\n    font-size: 0;\n    width: 4rem;\n    height: 4rem;\n    background-image: linear-gradient(\n        to bottom,\n        #eef8ff,\n        #eef8ff 50%,\n        var(--theme-color-accent) 50%,\n        var(--theme-color-accent)\n    );\n    border: none;\n    box-shadow: 0 4px 8px #0007;\n    border-radius: 50%;\n}\n',""]);const l=i},702:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,"svg.view-LinksGraphView {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    stroke-linecap: round;\n    fill: none;\n    font-size: 2vmin;\n    transform: translateY(-3.5em);\n    pointer-events: none;\n}\n\nsvg.view-LinksGraphView g.links path.back {\n    stroke: #000e;\n    stroke-width: 1;\n    /* transform: translate(0.25px, 0.25px); */\n}\n\nsvg.view-LinksGraphView g.links path.front {\n    stroke: var(--theme-color-accent);\n    stroke-width: 0.8;\n}\n\nsvg.view-LinksGraphView g.links path.front {\n    stroke: var(--theme-color-accent);\n    stroke-width: 0.8;\n}\n",""]);const l=i},2314:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-MainGraphView {\n    position: relative;\n    margin: 0;\n    padding: 0;\n    font-size: 3vmin;\n    background-color: var(--theme-color-primary-dark);\n}\n\n.view-MainGraphView > div.label {\n    position: absolute;\n    pointer-events: none;\n    opacity: 0.5;\n    margin: 5em;\n    font-size: 1.5em;\n    font-weight: bolder;\n}\n\n.view-MainGraphView > div.left {\n    left: 0;\n}\n\n.view-MainGraphView > div.right {\n    right: 0;\n}\n\n.view-MainGraphView > div.top {\n    top: 0;\n}\n\n.view-MainGraphView > div.bottom {\n    bottom: 0;\n}\n",""]);const l=i},1898:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(8081),a=t.n(r),o=t(3645),i=t.n(o)()(a());i.push([n.id,".view-RadiusEditorView {}\n",""]);const l=i},4572:(n,e,t)=>{var r=t(5893),a=t(3935),o=t(7294);const i=t.p+"./img/logo.4e75cf57e1b6a182dbfb.png";var l=t(3335),s=t(940),c=t(8540),u=t(6447),d=t(3379),f=t.n(d),p=t(7795),h=t.n(p),v=t(569),m=t.n(v),g=t(3565),y=t.n(g),x=t(9216),w=t.n(x),b=t(4589),j=t.n(b),Z=t(4951),k={};k.styleTagTransform=j(),k.setAttributes=y(),k.insert=m().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=w(),f()(Z.Z,k),Z.Z&&Z.Z.locals&&Z.Z.locals;var N=function(){return N=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},N.apply(this,arguments)};function C(n){return(0,r.jsxs)(u.Z,N({className:S(n),spacing:2,direction:"row",sx:{mb:1},alignItems:"center"},{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(c.ZP,{"aria-label":"Volume",min:0,max:90,marks:!0,value:n.value,onChange:function(e,t){"number"==typeof t&&n.onChange(t)}}),(0,r.jsx)(s.Z,{})]}))}function S(n){var e=["custom","view-RadiusEditorView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var A=t(4089),O={};O.styleTagTransform=j(),O.setAttributes=y(),O.insert=m().bind(null,"head"),O.domAPI=h(),O.insertStyleElement=w(),f()(A.Z,O),A.Z&&A.Z.locals&&A.Z.locals;var V=function(){return V=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},V.apply(this,arguments)};function E(n){return(0,r.jsxs)("div",V({className:P(n)},{children:[(0,r.jsx)("label",{children:"Courbure :"}),(0,r.jsx)(c.ZP,{className:"slider","aria-label":"Bending",min:0,max:100,marks:!1,value:n.value,onChange:function(e,t){"number"==typeof t&&n.onChange(t)}})]}))}function P(n){var e=["custom","view-BendEditorView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var I=function(){return I=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},I.apply(this,arguments)},T=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},L=function(n,e,t){if(t||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return n.concat(r||Array.prototype.slice.call(e))};function M(n,e){var t=n.from,r=n.to,a=e.from,o=e.to;return t===a&&r===o||t===o&&r===a}var G=t(1781),R=t(4292),q=t(4347),F=t(6914),z=["Assurances","Talents","Temps & activités","Administration"],D="Core HR",H=t(6278),B=t(4096),U={};U.styleTagTransform=j(),U.setAttributes=y(),U.insert=m().bind(null,"head"),U.domAPI=h(),U.insertStyleElement=w(),f()(B.Z,U),B.Z&&B.Z.locals&&B.Z.locals;var W=function(){return W=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},W.apply(this,arguments)};function J(n){var e,t=n.appId,a=n.graph,i=n.onChange,l=function(n,e){return e.links.filter((function(e){var t=e.from,r=e.to;return t===n||r===n}))}(t,a),s=function(n,e,t){var r,a,o=new Set;o.add(n);try{for(var i=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),l=i.next();!l.done;l=i.next()){var s=l.value,c=s.from,u=s.to;o.add(c),o.add(u)}}catch(n){r={error:n}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}var d=Object.keys(e.applications).filter((function(n){var t=e.applications[n];return!!t.visible&&!o.has(t.id)})).sort();return console.log("🚀 [app-links-view] ids = ",d),d}(t,a,l),c=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(o.useState(null!==(e=s[0])&&void 0!==e?e:D),2),u=c[0],d=c[1],f=o.useCallback((function(n){return i(function(n,e){var t=n.links.findIndex((function(n){return M(n,e)}));if(t<0)return I(I({},n),{links:L(L([],T(n.links),!1),[e],!1)});var r=n.links.slice(0,t),a=n.links.slice(t+1);return I(I({},n),{links:L(L(L([],T(r),!1),[e],!1),T(a),!1)})}(a,n))}),[a,i]),p=o.useCallback((function(n){return i(function(n,e){return I(I({},n),{links:n.links.filter((function(n){return!M(n,e)}))})}(a,n))}),[a,i]),h=o.useCallback((function(){f({from:t,to:u,type:"slow",bend:0})}),[u,t,a]);return s.length>0&&!s.includes(u)&&d(s[0]),(0,r.jsxs)("div",W({className:Q(n)},{children:[(0,r.jsx)("div",{children:l.map((function(n){return(0,r.jsxs)("div",W({className:"link-item"},{children:[(0,r.jsxs)("div",W({className:"flex row space-between wrap"},{children:[(0,r.jsx)("div",{children:Y(n,t,a)}),(0,r.jsx)(G.Z,W({size:"small",color:"secondary",onClick:function(){return p(n)}},{children:(0,r.jsx)(H.Z,{})}))]}),"".concat(n.from,"/").concat(n.to)),(0,r.jsxs)("div",W({className:"flex row space-between gap05"},{children:[(0,r.jsx)("label",{children:"Qualité :"}),(0,r.jsxs)(R.Z,W({className:"flex-1",value:n.type,onChange:function(e){return f(W(W({},n),{type:K(e.target.value)}))}},{children:[(0,r.jsx)(q.Z,W({value:"slowest"},{children:(0,r.jsxs)("div",W({className:"flex space-between gap025"},{children:[(0,r.jsx)("div",W({className:"flex-1"},{children:"Lien Manuel"})),(0,r.jsx)("div",{className:"flex-0 slowest quality-disk"})]}))})),(0,r.jsx)(q.Z,W({value:"slow"},{children:(0,r.jsxs)("div",W({className:"flex space-between gap05"},{children:[(0,r.jsx)("div",W({className:"flex-1"},{children:"Envoi par FTP"})),(0,r.jsx)("div",{className:"flex-0 slow quality-disk"})]}))})),(0,r.jsx)(q.Z,W({value:"fast"},{children:(0,r.jsxs)("div",W({className:"flex space-between gap05"},{children:[(0,r.jsx)("div",W({className:"flex-1"},{children:"API périodique"})),(0,r.jsx)("div",{className:"flex-0 fast quality-disk"})]}))})),(0,r.jsx)(q.Z,W({value:"fastest"},{children:(0,r.jsxs)("div",W({className:"flex space-between gap05"},{children:[(0,r.jsx)("div",W({className:"flex-1"},{children:"API immédiate"})),(0,r.jsx)("div",{className:"flex-0 fastest quality-disk"})]}))}))]}))]})),(0,r.jsx)("div",{children:(0,r.jsx)(E,{value:n.bend,onChange:function(e){return f(W(W({},n),{bend:e}))}})})]}),"".concat(n.from,"--").concat(n.to))}))}),s.length>0&&(0,r.jsxs)("div",W({className:"flex column stretch"},{children:[(0,r.jsx)(R.Z,W({value:u,onChange:function(n){return d(n.target.value)}},{children:s.map((function(n){return(0,r.jsx)(q.Z,W({value:n},{children:_(a.applications[n])}),n)}))})),(0,r.jsx)(F.Z,W({variant:"contained",onClick:h},{children:"Connecter"}))]}))]}))}function Q(n){var e=["custom","view-AppLinksView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}function Y(n,e,t){var r=n.from===e?n.to:n.from;return _(t.applications[r])}function _(n){var e="".concat(z[n.quadrant]);return e?"".concat(n.type," (").concat(e,")"):n.type}function K(n){switch(n){case"fastest":return"fastest";case"fast":return"fast";case"slow":return"slow";default:return"slowest"}}var X=t(3103),$=t(899),nn=t(1898),en={};en.styleTagTransform=j(),en.setAttributes=y(),en.insert=m().bind(null,"head"),en.domAPI=h(),en.insertStyleElement=w(),f()(nn.Z,en),nn.Z&&nn.Z.locals&&nn.Z.locals;var tn=function(){return tn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},tn.apply(this,arguments)},rn=[.25,sn(.25,.55,.5),.55,.7,sn(.7,1,.5),1];function an(n){return(0,r.jsxs)(u.Z,tn({className:on(n),spacing:2,direction:"row",sx:{mb:1},alignItems:"center"},{children:[(0,r.jsx)($.Z,{}),(0,r.jsx)(c.ZP,{"aria-label":"Volume",min:0,max:rn.length-1,marks:!0,value:ln(n.value),onChange:function(e,t){"number"==typeof t&&n.onChange(function(n){var e;return null!==(e=rn[n])&&void 0!==e?e:1}(t))}}),(0,r.jsx)(X.Z,{})]}))}function on(n){var e=["custom","view-RadiusEditorView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}function ln(n){for(var e=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(rn,1)[0],t=0,r=Math.abs(e-n),a=1;a<rn.length;a++){var o=rn[a],i=Math.abs(o-n);i<r&&(t=a,r=i)}return t}function sn(n,e,t){return(1-t)*n+t*e}var cn=t(9204),un={};un.styleTagTransform=j(),un.setAttributes=y(),un.insert=m().bind(null,"head"),un.domAPI=h(),un.insertStyleElement=w(),f()(cn.Z,un),cn.Z&&cn.Z.locals&&cn.Z.locals;var dn=t(6501),fn=t(9149),pn=t(9542),hn=t(1508),vn=t(542),mn=t(4212),gn=function(){return gn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},gn.apply(this,arguments)};function yn(n){var e,t,a,i,l,s=o.useCallback((function(e){n.onAppChange(gn(gn({},n.value),e))}),[n.value]),c=n.value.id!==D;return(0,r.jsxs)(dn.Z,gn({className:xn(n),sx:{boxShadow:4}},{children:[(0,r.jsx)(dn.Z,gn({sx:{backgroundColor:"primary.dark",color:n.value.visible?"white":"primary.light"}},{children:(0,r.jsxs)("div",gn({className:"header flex"},{children:[c&&(0,r.jsx)(fn.Z,{color:"secondary",checked:n.value.visible,onChange:function(){return s({visible:!n.value.visible})}}),(0,r.jsx)("b",{children:n.value.type}),c&&(0,r.jsxs)(r.Fragment,{children:["  (",null!==(e=z[n.value.quadrant])&&void 0!==e?e:"",")"]})]}))})),n.value.visible&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",gn({className:"body"},{children:[(0,r.jsx)(pn.Z,{sx:{width:"100%"},label:"Nom de l'application",value:null!==(t=n.value.name)&&void 0!==t?t:"",onChange:function(n){return s({name:n.target.value})}}),(0,r.jsxs)(hn.Z,gn({justifyContent:"space-between"},{children:[(0,r.jsx)(vn.Z,{label:"Authentification",control:(0,r.jsx)(mn.Z,{checked:null!==(a=n.value.authentication)&&void 0!==a&&a,onChange:function(n,e){return s({authentication:e})}})}),(0,r.jsx)(vn.Z,{label:"Smart Phone",control:(0,r.jsx)(mn.Z,{checked:null!==(i=n.value.smartphone)&&void 0!==i&&i,onChange:function(n,e){return s({smartphone:e})}})}),(0,r.jsx)(vn.Z,{label:"Resaisie manuelle",control:(0,r.jsx)(mn.Z,{checked:null!==(l=n.value.manual)&&void 0!==l&&l,onChange:function(n,e){return s({manual:e})}})})]})),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(an,{value:n.value.radius,onChange:function(n){return s({radius:n})}}),(0,r.jsx)(C,{value:n.value.angle-90*n.value.quadrant,onChange:function(e){return s({angle:e+90*n.value.quadrant})}})]})]})),(0,r.jsx)(J,{appId:n.value.id,graph:n.graph,onChange:n.onGraphChange})]})]}))}function xn(n){var e=["custom","view-AppDetailView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var wn=t(3508),bn=t(5427),jn={};jn.styleTagTransform=j(),jn.setAttributes=y(),jn.insert=m().bind(null,"head"),jn.domAPI=h(),jn.insertStyleElement=w(),f()(bn.Z,jn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Zn=t(9941),kn=t(7425),Nn=t(2658),Cn=t(5092),Sn=t(461),An=function(){return An=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},An.apply(this,arguments)},On=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i};function Vn(n){var e=On(o.useState(-1),2),t=e[0],a=e[1],i=On(o.useState([]),2),l=i[0],s=i[1],c=n.graph.applications[n.selectedAppId];o.useEffect((function(){var e,t;s((e=n.graph,t=Object.values(e.applications).filter((function(n){return n.quadrant>=0})),t.sort((function(n,e){var t=n.quadrant,r=e.quadrant;if(t<r)return-1;if(t>r)return 1;var a=n.type,o=e.type;return a<o?-1:a>o?1:0})),function(n){var e,t,r=[];try{for(var a=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),o=a.next();!o.done;o=a.next()){var i=o.value;Array.isArray(r[i.quadrant])||(r[i.quadrant]=[]),r[i.quadrant].push(i)}}catch(n){e={error:n}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r}(t)))}),[n.graph]);var u=o.useCallback((function(e){var t,r=(t=n.graph,JSON.parse(JSON.stringify(t)));r.applications[e.id]=e,n.onGraphChange(r)}),[n.graph]);return(0,r.jsxs)("div",An({className:En(n)},{children:[l.map((function(e,o){return(0,r.jsxs)(Zn.Z,An({expanded:o===t,onChange:function(n){return a(n?o:-1)}},{children:[(0,r.jsx)(kn.Z,An({expandIcon:(0,r.jsx)(wn.Z,{})},{children:(0,r.jsx)(Nn.Z,{children:z[o]})})),(0,r.jsx)(Cn.Z,{children:(0,r.jsx)("div",An({className:"flex space-around wrap gap05"},{children:e.map((function(e){return(0,r.jsx)(Sn.Z,{label:e.type,color:e.visible?"secondary":"primary",onClick:function(){return n.onSelectedAppIdChange(e.id)}},e.id)}))}))})]}),o)})),c&&(0,r.jsx)(yn,{value:c,onAppChange:u,graph:n.graph,onGraphChange:n.onGraphChange})]}))}function En(n){var e=["custom","view-AppsListView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var Pn=t(8901),In={};function Tn(n){var e=n.graph,t=n.onGraphChange,a=n.selectedAppId,o=n.onSelectedAppIdChange;return(0,r.jsx)(Vn,{className:Ln(n),graph:e,selectedAppId:a,onGraphChange:t,onSelectedAppIdChange:function(n){o(n);var r=e.applications[n];r&&(r.visible=!0,t(function(n,e){return n.applications[e.id]=e,I({},n)}(e,r)))}})}function Ln(n){var e=["custom","app-section-EditorSection"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}In.styleTagTransform=j(),In.setAttributes=y(),In.insert=m().bind(null,"head"),In.domAPI=h(),In.insertStyleElement=w(),f()(Pn.Z,In),Pn.Z&&Pn.Z.locals&&Pn.Z.locals;var Mn=t(4510),Gn=t(7036),Rn=t(3838),qn=t(7645),Fn=t(9958),zn={};zn.styleTagTransform=j(),zn.setAttributes=y(),zn.insert=m().bind(null,"head"),zn.domAPI=h(),zn.insertStyleElement=w(),f()(Fn.Z,zn),Fn.Z&&Fn.Z.locals&&Fn.Z.locals;var Dn=function(){return Dn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Dn.apply(this,arguments)};function Hn(n){var e=n.graph,t=n.onGraphChange,a=n.visible,o=n.onVisibleChange;return(0,r.jsx)(Rn.Z,Dn({className:Bn(n),open:a,onClose:function(){return o(!1)}},{children:(0,r.jsxs)("div",Dn({className:"margin"},{children:[(0,r.jsx)(qn.Z,{children:"Sauvegarder le diagramme courant"}),(0,r.jsx)(pn.Z,{label:"Nom du fichier",value:e.name||"Diagramme",onChange:function(n){return t(Dn(Dn({},e),{name:n.target.value}))}}),(0,r.jsxs)("div",Dn({className:"flex space-around margin"},{children:[(0,r.jsx)(F.Z,Dn({variant:"text",startIcon:(0,r.jsx)(Mn.Z,{}),onClick:function(){return o(!1)}},{children:"Annuler"})),(0,r.jsx)(F.Z,Dn({variant:"contained",startIcon:(0,r.jsx)(Gn.Z,{}),onClick:function(){var n,t,r,a,i;o(!1),r=e,t="string"!=typeof(n=e.name)?"Diagramme":n.endsWith(".json")?n.substring(0,n.length-".json".length):n,a="".concat(t.split(/[^a-zA-Z0-9]+/).map((function(n){return n.toLocaleLowerCase()})).join("-"),".json"),i=JSON.stringify(r,null,"  "),function(n,e,t){void 0===t&&(t=6e4);var r=n instanceof Blob,a=r?URL.createObjectURL(n):n,o=document.createElement("a");o.href=a,o.download=e;var i=new MouseEvent("click");requestAnimationFrame((function(){o.dispatchEvent(i)})),r&&setTimeout((function(){URL.revokeObjectURL(a)}),t)}(new File([i],a,{type:"application/json"}),a)}},{children:"Sauvegarder"}))]}))]}))}))}function Bn(n){var e=["custom","app-section-editor-dialog-FileSaveDialog"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var Un=t(1733),Wn=t(3397),Jn=t(9929),Qn=t(9602),Yn=new Map,_n=t(1749),Kn={};Kn.styleTagTransform=j(),Kn.setAttributes=y(),Kn.insert=m().bind(null,"head"),Kn.domAPI=h(),Kn.insertStyleElement=w(),f()(_n.Z,Kn),_n.Z&&_n.Z.locals&&_n.Z.locals;var Xn=function(){return Xn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Xn.apply(this,arguments)},$n=(0,Qn.ZP)("input")({display:"none"});function ne(n){var e=o.useRef(function(n){var e;void 0===n&&(n="apiHR-");var t=null!==(e=Yn.get(n))&&void 0!==e?e:0;return Yn.set(n,t+1),"".concat(n).concat(t)}(void 0));return(0,r.jsxs)("label",Xn({htmlFor:e.current,className:ee(n)},{children:[(0,r.jsx)($n,{accept:"application/json",id:e.current,multiple:!1,type:"file",onChange:function(e){if(e.target)try{var t=e.target.files;if(!t)return;n.onClick(t)}catch(n){console.error("Error in handleFileChange(): "),console.error(n)}}}),(0,r.jsx)(F.Z,Xn({variant:"contained",component:"span",startIcon:(0,r.jsx)(Jn.Z,{})},{children:n.label}))]}))}function ee(n){var e=["custom","view-InputFileView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var te=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function re(n,e){if(void 0===e&&(e="data"),Array.isArray(n))throw console.error(e,n),Error("".concat(e," was expected to be an object but we got an array!"));if(!function(n){return!Array.isArray(n)&&"object"==typeof n}(n))throw console.error(e,n),Error("".concat(e," was expected to be an object but we got ").concat(typeof n,"!"))}function ae(n){return void 0===n}function oe(n,e){if(void 0===e&&(e="data"),!function(n){return"string"==typeof n}(n))throw console.error(e,n),Error("".concat(e," was expected to be a string but we got ").concat(typeof n,"!"))}function ie(n,e){if(void 0===e&&(e="data"),!function(n){return"number"==typeof n}(n))throw console.error(e,n),Error("".concat(e," was expected to be a number but we got ").concat(typeof n,"!"))}function le(n,e){if(void 0===e&&(e="data"),!function(n){return"boolean"==typeof n}(n))throw console.error(e,n),Error("".concat(e," was expected to be a boolean but we got ").concat(typeof n,"!"))}function se(n,e){void 0===e&&(e="data"),ae(n)||le(n,e)}function ce(n,e){var t,r,a,o;void 0===e&&(e="data"),re(n);var i=n.applications,l=n.links;re(i,"data.applications");try{for(var s=te(Object.keys(i)),c=s.next();!c.done;c=s.next()){var u=c.value;de(i[u],"".concat(e,'["').concat(u,'"]'))}}catch(n){t={error:n}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}!function(n,e){void 0===e&&(e="data"),Array.isArray(n)||Error("".concat(e,' was expected to be an array but we got "').concat(typeof n,'"!'))}(l);try{for(var d=te(l),f=d.next();!f.done;f=d.next())ue(f.value,"".concat(e,".links[?]"))}catch(n){a={error:n}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}function ue(n,e){void 0===e&&(e="data"),re(n,e);var t=n.from,r=n.to,a=n.type;oe(t,"".concat(e,".from")),oe(r,"".concat(e,".to")),oe(a,"".concat(e,".type"))}function de(n,e){void 0===e&&(e="data"),re(n);var t=n.id,r=n.type,a=n.name,o=n.radius,i=n.angle,l=n.quadrant,s=n.visible,c=n.authentication,u=n.smartphone;oe(t,"".concat(e,".id")),oe(r,"".concat(e,".type")),function(n,e){void 0===e&&(e="data"),ae(n)||oe(n,e)}(a,"".concat(e,".name")),ie(o,"".concat(e,".radius")),ie(i,"".concat(e,".angle")),ie(l,"".concat(e,".quadrant")),le(s,"".concat(e,".visible")),se(c,"".concat(e,".authentication")),se(u,"".concat(e,".smartphone"))}function fe(){return he({name:"Diagramme",logo:i,applications:pe([["AVS/AI","LPP","Maladie","Voiture"],["Compétences","Formation","Entretien","Recrutement"],["Activités","Congés","Planification"],["Compta.","Paie","Notes de frais","GED"]]),links:[]})}function pe(n){for(var e=0,t={},r=0;r<n.length;r++)for(var a=n[r],o=0;o<a.length;o++){var i=a[o],l="A".concat(e++),s={id:l,type:i,angle:90*r+90*(o+.5)/a.length,radius:.8,quadrant:r,visible:!1};t[l]=s}return t}function he(n){return n.applications["Core HR"]?(n.applications["Core HR"].angle=0,n.applications["Core HR"].radius=0,n.applications["Core HR"].quadrant=-1):n.applications["Core HR"]={id:D,angle:0,quadrant:-1,radius:0,type:D,visible:!0},console.log("🚀 [data] data = ",n),n}var ve=t(7446),me=t(9629),ge={};ge.styleTagTransform=j(),ge.setAttributes=y(),ge.insert=m().bind(null,"head"),ge.domAPI=h(),ge.insertStyleElement=w(),f()(me.Z,ge),me.Z&&me.Z.locals&&me.Z.locals;var ye=function(){return ye=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},ye.apply(this,arguments)};function xe(n){var e,t=this,a=n.onGraphChange,o=n.onShowFileSaveDialog,i=(e=a,function(n){var t=n[0],r=t?t.name:"<no file>";(function(n){return new Promise((function(e,t){var r=new FileReader;r.onload=function(n){if(n&&n.target){var t=n.target.result;e("string"==typeof t?t:"")}else e("")},r.onerror=function(n){t(n)},r.readAsText(n)}))})(t).then((function(n){try{var t=JSON.parse(n);ce(t),e(t)}catch(n){console.error(r,n),alert("Format de fichier invalide !")}})).catch(console.error)}),l=(0,ve.N)();return(0,r.jsxs)("footer",ye({className:we(n)},{children:[(0,r.jsx)(ne,{label:"Charger",onClick:i}),(0,r.jsx)(F.Z,ye({variant:"contained",startIcon:(0,r.jsx)(Wn.Z,{}),onClick:o},{children:"Sauvegarder"})),(0,r.jsx)(F.Z,ye({variant:"contained",color:"secondary",startIcon:(0,r.jsx)(Un.Z,{}),onClick:function(){return n=t,r=function(){var n;return function(n,e){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(n,i)}catch(n){o=[6,n],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,l({description:"Vous êtes sur le point de tout effacer."})];case 1:return e.sent(),a(fe()),[3,3];case 2:return n=e.sent(),console.error(n),[3,3];case 3:return[2]}}))},new((e=void 0)||(e=Promise))((function(t,a){function o(n){try{l(r.next(n))}catch(n){a(n)}}function i(n){try{l(r.throw(n))}catch(n){a(n)}}function l(n){var r;n.done?t(n.value):(r=n.value,r instanceof e?r:new e((function(n){n(r)}))).then(o,i)}l((r=r.apply(n,[])).next())}));var n,e,r}},{children:"Effacer"}))]}))}function we(n){var e=["custom","app-GraphStorageView","flex","space-around","gap1"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var be=t(1846),je=t(4247),Ze=t(1235),ke=t(1797),Ne=t(5200),Ce={};Ce.styleTagTransform=j(),Ce.setAttributes=y(),Ce.insert=m().bind(null,"head"),Ce.domAPI=h(),Ce.insertStyleElement=w(),f()(Ne.Z,Ce),Ne.Z&&Ne.Z.locals&&Ne.Z.locals;var Se=function(){return Se=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Se.apply(this,arguments)};function Ae(n){return(0,r.jsxs)("div",Se({className:Oe(n)},{children:[(0,r.jsxs)("div",Se({className:"flex center logo column",onClick:n.onLogoClick},{children:[(0,r.jsx)("img",{src:n.logo}),(0,r.jsx)("div",{children:n.name})]})),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Caractéristiques d'une application"}),(0,r.jsxs)("div",Se({className:"grid"},{children:[(0,r.jsx)(Ze.Z,{}),(0,r.jsx)("div",{children:"Authentication requise"}),(0,r.jsx)(je.Z,{}),(0,r.jsx)("div",{children:"Disponible sur smartphone"}),(0,r.jsx)(be.Z,{}),(0,r.jsx)("div",{children:"Resaisie manuelle"})]}))]}),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Connectivité d'une app au cœur RH"}),(0,r.jsxs)("div",Se({className:"flex row wrap gap1 space-around"},{children:[Ee("fastest","Excellente"),Ee("fast","Bonne"),Ee("slow","Médiocre"),Ee("slowest","Très mauvaise")]}))]}),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Qualité du lien entre applications"}),(0,r.jsxs)("div",Se({className:"flex column gap05 stretch"},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"Synchronisation immédiate"}),Ve("fastest")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"Synchronisation périodique"}),Ve("fast")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"Échanges FTP"}),Ve("slow")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"Lien manuelSynchronisation immédiate"}),Ve("slowest")]})]}))]}),(0,r.jsx)("div",Se({className:"flex space-around"},{children:(0,r.jsx)(G.Z,Se({size:"large",color:"secondary",onClick:n.onEdit},{children:(0,r.jsx)(ke.Z,{})}))}))]}))}function Oe(n){var e=["custom","view-LegendView","flex","column","space-around"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}function Ve(n){return(0,r.jsx)("svg",Se({version:"1.1",viewBox:"-10 -2 120 4",width:"100%"},{children:(0,r.jsxs)("g",Se({className:n,strokeLinecap:"round"},{children:[(0,r.jsx)("path",{d:"M0,0H100",strokeWidth:2,style:{stroke:"#000"}}),(0,r.jsx)("path",{d:"M0,0H100",strokeWidth:1})]}))}))}function Ee(n,e){return(0,r.jsxs)("div",Se({className:"flex column gap05 center app-container"},{children:[(0,r.jsx)("div",{className:"".concat(n," app")}),(0,r.jsx)("div",{children:e})]}))}const Pe=t.p+"./img/image.16240dffbb3c5c46603e.svg";var Ie=t(4494),Te={};function Le(n){return(0,r.jsx)("img",{className:Me(n),src:Pe})}function Me(n){var e=["custom","view-BackgroundDiskView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}Te.styleTagTransform=j(),Te.setAttributes=y(),Te.insert=m().bind(null,"head"),Te.domAPI=h(),Te.insertStyleElement=w(),f()(Ie.Z,Te),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var Ge=t(9327),Re=t(4824),qe={};qe.styleTagTransform=j(),qe.setAttributes=y(),qe.insert=m().bind(null,"head"),qe.domAPI=h(),qe.insertStyleElement=w(),f()(Re.Z,qe),Re.Z&&Re.Z.locals&&Re.Z.locals;var Fe=function(){return Fe=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Fe.apply(this,arguments)};function ze(n){var e,t=n.value.angle*Math.PI/180,a=n.value.radius*Math.min(n.containerWidth,n.containerHeight)/2,o=Math.sin(t)*a,i=-Math.cos(t)*a;return console.log("🚀 [graph-node-view] radius = ",n.value.radius,n.value.name),(0,r.jsxs)("div",Fe({className:De(n),style:{transform:"translate(".concat(o,"px,").concat(i,"px)")},onClick:function(){return n.onClick(n.value)}},{children:[(0,r.jsxs)("div",Fe({className:"type"},{children:[(0,r.jsx)("div",Fe({className:"name"},{children:null!==(e=n.value.name)&&void 0!==e?e:""})),(0,r.jsx)("div",{children:n.value.type})]})),(0,r.jsxs)("div",Fe({className:"icons"},{children:[(0,r.jsx)(Ge.Z,Fe({onClick:function(){n.onChange(Fe(Fe({},n.value),{authentication:!n.value.authentication}))}},{children:(0,r.jsx)(Ze.Z,{opacity:n.value.authentication?1:.2})})),(0,r.jsx)(Ge.Z,Fe({onClick:function(){n.onChange(Fe(Fe({},n.value),{smartphone:!n.value.smartphone}))}},{children:(0,r.jsx)(je.Z,{opacity:n.value.smartphone?1:.2})})),(0,r.jsx)(Ge.Z,Fe({onClick:function(){n.onChange(Fe(Fe({},n.value),{manual:!n.value.manual}))}},{children:(0,r.jsx)(be.Z,{opacity:n.value.manual?1:.2})}))]}))]}))}function De(n){var e=["custom","view-GraphNodeView"];"string"==typeof n.className&&e.push(n.className),n.value.visible||e.push("hide");var t=n.value.radius;return t<.3?e.push("fastest"):t<.6?e.push("fast"):t<.8?e.push("slow"):e.push("slowest"),e.join(" ")}var He=t(702),Be={};Be.styleTagTransform=j(),Be.setAttributes=y(),Be.insert=m().bind(null,"head"),Be.domAPI=h(),Be.insertStyleElement=w(),f()(He.Z,Be),He.Z&&He.Z.locals&&He.Z.locals;var Ue=function(){return Ue=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Ue.apply(this,arguments)},We=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i};function Je(n){var e=n.graph.links;return(0,r.jsxs)("svg",Ue({className:Qe(n),version:"1.1",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",viewBox:"-100 -100 200 200"},{children:[(0,r.jsx)("g",Ue({className:"links"},{children:e.map((function(e){var t=function(n,e){var t=e[n.to],r=e[n.from];if(!t||!r)return"";var a=We(Ke(t),2),o=a[0],i=a[1],l=We(Ke(r),2),s=l[0],c=l[1],u=We(function(n,e,t,r,a){var o=(n+t)/2,i=(e+r)/2,l=Math.sqrt(o*o+i*i),s=a/100,c=(l*(1-s)+150*s)/l;return[o*c,i*c]}(o,i,s,c,n.bend),2),d=u[0],f=u[1];return console.log(t.type,o,i),console.log(r.type,s,c),"M".concat(o,",").concat(i,"Q").concat(d,",").concat(f,",").concat(s,",").concat(c)}(e,n.graph.applications);return(0,r.jsxs)("g",Ue({className:e.type},{children:[(0,r.jsx)("path",{d:t,className:"back"}),(0,r.jsx)("path",{d:t,className:"front"})]}))}))})),(0,r.jsx)("g",Ue({style:{fill:"var(--theme-color-accent)"},stroke:"#eef8ff","stoke-width":2},{children:e.map((function(e){return(0,r.jsxs)(r.Fragment,{children:[Ye(e,n.graph.applications),_e(e,n.graph.applications)]})}))}))]}))}function Qe(n){var e=["custom","view-LinksGraphView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}function Ye(n,e){var t=e[n.from];if(!t)return null;var a=We(Ke(t),2),o=a[0],i=a[1];return(0,r.jsx)("circle",{cx:o,cy:i,r:2})}function _e(n,e){var t=e[n.to];if(!t)return null;var a=We(Ke(t),2),o=a[0],i=a[1];return(0,r.jsx)("circle",{cx:o,cy:i,r:2})}function Ke(n){var e=100*n.radius,t=n.angle*Math.PI/180;return[Math.round(e*Math.sin(t)),-Math.round(e*Math.cos(t))]}var Xe=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},$e=function(n,e,t){if(t||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return n.concat(r||Array.prototype.slice.call(e))},nt=t(2314),et={};et.styleTagTransform=j(),et.setAttributes=y(),et.insert=m().bind(null,"head"),et.domAPI=h(),et.insertStyleElement=w(),f()(nt.Z,et),nt.Z&&nt.Z.locals&&nt.Z.locals;var tt=function(){return tt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},tt.apply(this,arguments)};function rt(n){var e=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(function(){var n=Xe(o.useState([1,1]),2),e=n[0],t=n[1],r=o.useRef((function(n){n&&(t([n.clientWidth,n.clientHeight]),new ResizeObserver((function(){t([n.clientWidth,n.clientHeight])})).observe(n))}));return $e($e([],Xe(e),!1),[r.current],!1)}(),3),t=e[0],a=e[1],i=e[2];return(0,r.jsxs)("div",tt({className:at(n),ref:i},{children:[(0,r.jsx)(Le,{}),Object.values(n.graph.applications).map((function(e){return(0,r.jsx)(ze,{value:e,containerWidth:t,containerHeight:a,onClick:n.onClick,onChange:n.onChange},e.id)})),(0,r.jsx)(Je,{graph:n.graph})]}))}function at(n){var e=["custom","view-MainGraphView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var ot=t(4669),it=function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function l(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,l)}s((r=r.apply(n,e||[])).next())}))},lt=function(n,e){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(n,i)}catch(n){o=[6,n],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function st(n){return it(this,void 0,void 0,(function(){var e=this;return lt(this,(function(t){return[2,new Promise((function(t){var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".jpg,.png,.webp"),r.onchange=function(r){if(r.target)try{var a=r.target.files;if(!a)return void t(null);var o=a.item(0);if(!o)return void t(null);var i=new FileReader;i.addEventListener("load",(function(){it(e,void 0,void 0,(function(){var e,r,a,o,l,s,c;return lt(this,(function(u){switch(u.label){case 0:return"string"!=typeof(e=i.result)?[2]:[4,ct(e)];case 1:return(r=u.sent())?(a=Math.min(1,n/r.height),o=Math.round(r.width*a),l=Math.round(r.height*a),(s=document.createElement("canvas")).width=o,s.height=l,(c=s.getContext("2d"))?(c.drawImage(r,0,0,o,l),t(s.toDataURL()),[2]):(t(null),console.error("Unable to get a 2D context from a canvas!"),[2])):(t(null),[2])}}))}))})),i.readAsDataURL(o)}catch(n){console.error("Error in handleFileChange(): "),console.error(n)}},r.click()}))]}))}))}function ct(n){return it(this,void 0,void 0,(function(){return lt(this,(function(e){return[2,new Promise((function(e){var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){console.log("Loaded successfuly!"),e(t)},t.onerror=function(){console.error("Unable to load image:",n),e(null)},console.log("Loading",n),t.src=n}))]}))}))}var ut=t(6164),dt={};dt.styleTagTransform=j(),dt.setAttributes=y(),dt.insert=m().bind(null,"head"),dt.domAPI=h(),dt.insertStyleElement=w(),f()(ut.Z,dt),ut.Z&&ut.Z.locals&&ut.Z.locals;var ft=function(){return ft=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},ft.apply(this,arguments)},pt=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},ht="legend",vt="edit",mt=t(6720),gt=t(8702),yt=t(265);const xt=(0,gt.Z)({palette:{primary:{main:"#46a2a1"},secondary:{main:"#e69999"},error:{main:yt.Z.A400}}});var wt=t(5974),bt=t(3788),jt={};jt.styleTagTransform=j(),jt.setAttributes=y(),jt.insert=m().bind(null,"head"),jt.domAPI=h(),jt.insertStyleElement=w(),f()(bt.Z,jt),bt.Z&&bt.Z.locals&&bt.Z.locals,t(5458),t(7035),t(2565),t(7824);var Zt,kt,Nt=function(){return Nt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Nt.apply(this,arguments)};function Ct(n){var e=document.getElementById(n);if(!n)throw Error('No DOM element with this id: "'.concat(n,'"!'));return e}Zt=Ct("root"),a.render((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(mt.ZP,{}),(0,r.jsx)(wt.Z,Nt({theme:xt},{children:(0,r.jsx)(ve.W,{children:(0,r.jsx)((function(){var n=this,e=pt(o.useState(ht),2),t=e[0],a=e[1],l=pt(o.useState(!1),2),s=l[0],c=l[1],u=pt(o.useState(""),2),d=u[0],f=u[1],p=pt(function(n){void 0===n&&(n="main");var e=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,o=t.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){a={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(o.useState(function(n){var e;void 0===n&&(n="main");try{var t=JSON.parse(null!==(e=window.localStorage.getItem("graph/".concat(n)))&&void 0!==e?e:"");return ce(t),he(t)}catch(n){return console.warn(n),console.log("Make a new empty Graph."),fe()}}(n)),2),t=e[0],r=e[1];return[t,function(e){(function(n,e){void 0===e&&(e="main"),window.localStorage.setItem("graph/".concat(e),JSON.stringify(n))})(e,n),r(e)}]}(),2),h=p[0],v=p[1];return(0,r.jsxs)("div",ft({className:"App"},{children:[(0,r.jsxs)("div",ft({className:"sidebar flex column stretch ".concat(t)},{children:[(0,r.jsxs)("header",ft({className:"flex row space-between center flex-0"},{children:[t===vt&&(0,r.jsx)(G.Z,ft({size:"medium",color:"secondary",onClick:function(){return a(ht)}},{children:(0,r.jsx)(ot.Z,{})})),(0,r.jsx)("h1",{children:"Cartographie SIRH"})]})),t===ht&&(0,r.jsx)(Ae,{onEdit:function(){return a(vt)},name:h.name,logo:h.logo||i,onLogoClick:function(){var e,t,r;e=n,r=function(){var n;return function(n,e){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(n,i)}catch(n){o=[6,n],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return[4,st(150)];case 1:return n=e.sent(),console.log("🚀 [app] url = ",n),n?(v(ft(ft({},h),{logo:n})),[2]):[2]}}))},new((t=void 0)||(t=Promise))((function(n,a){function o(n){try{l(r.next(n))}catch(n){a(n)}}function i(n){try{l(r.throw(n))}catch(n){a(n)}}function l(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t((function(n){n(r)}))).then(o,i)}l((r=r.apply(e,[])).next())}))}}),t===vt&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Tn,{className:"flex-1",graph:h,onGraphChange:v,selectedAppId:d,onSelectedAppIdChange:f}),(0,r.jsxs)("div",ft({className:"flex-0"},{children:[(0,r.jsx)(pn.Z,{style:{width:"100%",marginTop:"1rem"},label:"Nom da la société",value:h.name||"Société Anonyme",onChange:function(n){return v(ft(ft({},h),{name:n.target.value}))}}),(0,r.jsx)(xe,{className:"flex-0",onGraphChange:v,onShowFileSaveDialog:function(){return c(!0)}})]}))]})]})),(0,r.jsx)(rt,{className:"main",graph:h,onClick:function(n){f(n.id),a(vt)},onChange:function(n){var e=ft({},h);e.applications[n.id]=ft({},n),v(e)}}),(0,r.jsx)(Hn,{visible:s,onVisibleChange:c,graph:h,onGraphChange:v})]}))}),{})})}))]}),Zt),(kt=Ct("tgd-logo")).style.setProperty("--delay","".concat(900,"ms")),kt.classList.add("vanish"),window.setTimeout((function(){var n;null===(n=kt.parentNode)||void 0===n||n.removeChild(kt)}),900)}},n=>{n.O(0,[977],(()=>n(n.s=4572))),n.O()}]);